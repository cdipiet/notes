<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
    <head>
        <meta charset="utf-8" />
        <meta name="generator" content="markdown-it" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
        <meta name="author" content="runner" />
        <meta name="dcterms.date" content="2025-04-08 13:38:18.958" />
        <title>git_revert</title>
        <style type="text/css">
            code {
                white-space: pre-wrap;
            }
            span.smallcaps {
                font-variant: small-caps;
            }
            span.underline {
                text-decoration: underline;
            }
            div.column {
                display: inline-block;
                vertical-align: top;
                width: 50%;
            }
        </style>
        <style type="text/css">
            a.sourceLine {
                display: inline-block;
                line-height: 1.25;
            }
            a.sourceLine {
                pointer-events: none;
                color: inherit;
                text-decoration: inherit;
            }
            a.sourceLine:empty {
                height: 1.2em;
            }
            .sourceCode {
                overflow: visible;
            }
            code.sourceCode {
                white-space: pre;
                position: relative;
            }
            div.sourceCode {
                margin: 1em 0;
            }
            pre.sourceCode {
                margin: 0;
            }
            @media screen {
                div.sourceCode {
                    overflow: auto;
                }
            }
            @media print {
                code.sourceCode {
                    white-space: pre-wrap;
                }
                a.sourceLine {
                    text-indent: -1em;
                    padding-left: 1em;
                }
            }
            pre.numberSource a.sourceLine {
                position: relative;
                left: -4em;
            }
            pre.numberSource a.sourceLine::before {
                content: attr(title);
                position: relative;
                left: -1em;
                text-align: right;
                vertical-align: baseline;
                border: none;
                pointer-events: all;
                display: inline-block;
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -khtml-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
                padding: 0 4px;
                width: 4em;
                background-color: #ffffff;
                color: #a0a0a0;
            }
            pre.numberSource {
                margin-left: 3em;
                border-left: 1px solid #a0a0a0;
                padding-left: 4px;
            }
            div.sourceCode {
                color: #1f1c1b;
                background-color: #ffffff;
            }
            @media screen {
                a.sourceLine::before {
                    text-decoration: underline;
                }
            }
            code span {
                color: #1f1c1b;
            } /* Normal */
            code span.al {
                color: #bf0303;
                background-color: #f7e6e6;
                font-weight: bold;
            } /* Alert */
            code span.an {
                color: #ca60ca;
            } /* Annotation */
            code span.at {
                color: #0057ae;
            } /* Attribute */
            code span.bn {
                color: #b08000;
            } /* BaseN */
            code span.bu {
                color: #644a9b;
                font-weight: bold;
            } /* BuiltIn */
            code span.cf {
                color: #1f1c1b;
                font-weight: bold;
            } /* ControlFlow */
            code span.ch {
                color: #924c9d;
            } /* Char */
            code span.cn {
                color: #aa5500;
            } /* Constant */
            code span.co {
                color: #898887;
            } /* Comment */
            code span.cv {
                color: #0095ff;
            } /* CommentVar */
            code span.do {
                color: #607880;
            } /* Documentation */
            code span.dt {
                color: #0057ae;
            } /* DataType */
            code span.dv {
                color: #b08000;
            } /* DecVal */
            code span.er {
                color: #bf0303;
                text-decoration: underline;
            } /* Error */
            code span.ex {
                color: #0095ff;
                font-weight: bold;
            } /* Extension */
            code span.fl {
                color: #b08000;
            } /* Float */
            code span.fu {
                color: #644a9b;
            } /* Function */
            code span.im {
                color: #ff5500;
            } /* Import */
            code span.in {
                color: #b08000;
            } /* Information */
            code span.kw {
                color: #1f1c1b;
                font-weight: bold;
            } /* Keyword */
            code span.op {
                color: #1f1c1b;
            } /* Operator */
            code span.ot {
                color: #006e28;
            } /* Other */
            code span.pp {
                color: #006e28;
            } /* Preprocessor */
            code span.re {
                color: #0057ae;
                background-color: #e0e9f8;
            } /* RegionMarker */
            code span.sc {
                color: #3daee9;
            } /* SpecialChar */
            code span.ss {
                color: #ff5500;
            } /* SpecialString */
            code span.st {
                color: #bf0303;
            } /* String */
            code span.va {
                color: #0057ae;
            } /* Variable */
            code span.vs {
                color: #bf0303;
            } /* VerbatimString */
            code span.wa {
                color: #bf0303;
            } /* Warning */
        </style>
        <!--
  Firefox non carica font da locale quindi il font puÃ² non essere visibile
  quando di carica la pagina da locale.
  Bisogna impostare about:config
    security.fileuri.strict_origin_policy = false
  -->
        <link rel="stylesheet" href="../../inc/css/katex.min.css" />
        <link rel="stylesheet" href="../../inc/css/fonts/google_fonts.css" />
        <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous"> -->
        <link rel="stylesheet" href="../../inc/css/bootstrap.min.css" />
        <link rel="stylesheet" href="../../inc/css/cdp.css" />
        <!--[if lt IE 9]>
            <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
        <![endif]-->
        <meta name="keywords" content="Appunti,Note" />
        <meta name="description" content="Appunti di runner" />
        <link rel="icon" type="image/x-icon" href="../../inc/img/favicon.ico" />
        <link rel="shortcut icon" type="image/x-icon" href="../../inc/img/favicon.ico" />

        <link rel="stylesheet" href="../../inc/js/hljs/styles/default.css" />
        <script src="../../inc/js/hljs/lib/highlight.js"></script>
        <script src="../../inc/js/bootstrap/bootstrap.bundle.min.js"></script>
        <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script> -->
        <script>
            hljs.initHighlightingOnLoad();
        </script>
        <script type="module">
            import mermaid from '../../inc/js/mermaid/dist/mermaid.esm.min.mjs';
            // import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
            mermaid.initialize({ startOnLoad: true });
        </script>
    </head>
    <body></body>
</html>
<h1 id="git_revert" tabindex="-1">git_revert <a class="header-anchor" href="#git_revert" aria-hidden="true">ðŸ”—</a></h1>
<p class="code">2025-04-08 13:38:18.958</p>
<nav class="table-of-contents"><ol></ol></nav><h1 id="approfondimento-su-git-revert" tabindex="-1">Approfondimento su git revert <a class="header-anchor" href="#approfondimento-su-git-revert" aria-hidden="true">ðŸ”—</a></h1>
<ul>
<li>
<p><a href="https://git-scm.com/docs/git-revert">https://git-scm.com/docs/git-revert</a></p>
<pre><code>  -n, --no-commit
      Usually the command automatically creates some commits with commit log messages stating which commits were reverted. This flag applies the changes necessary to revert the named commits to your working tree and the index, but does not make the commits. In addition, when this option is used, your index does not have to match the HEAD commit. The revert is done against the beginning state of your index.

      This is useful when reverting more than one commits' effect to your index in a row.
</code></pre>
</li>
<li>
<p><a href="https://git-scm.com/docs/gitrevisions#_commit_exclusions">https://git-scm.com/docs/gitrevisions#_commit_exclusions</a> L'estremo sinistro del range non Ã¨ incluso, si deve usare il parent <code>^</code> per includerlo</p>
</li>
</ul>
<pre><code class="language-bash"><span class="hljs-comment">##</span>
<span class="hljs-comment"># Reverting a range of commits</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># git log --pretty=oneline --abbrev-commit older_commit..newer_commit       # not includes the oldest commit</span>
<span class="hljs-comment"># git log --pretty=oneline --abbrev-commit older_commit^..newer_commit      # includes the oldest commit</span>
<span class="hljs-comment">##</span>

<span class="hljs-comment"># just to be sure about the commits, list them</span>
git <span class="hljs-built_in">log</span> --pretty=oneline --abbrev-commit 1f80548^..4b293d5

<span class="hljs-comment"># now, let&#x27;s revert all commits</span>
git revert --no-commit 1f80548^..4b293d5

<span class="hljs-comment"># then let&#x27;s commit all of them with a single message</span>
git commit -am <span class="hljs-string">&quot;[RELEASE_FIX] this feature should not be here now;&quot;</span>;
</code></pre>
<pre><code class="language-bash"><span class="hljs-comment"># git revert su un singolo commit annulla quel commit</span>
$ git revert HEAD <span class="hljs-comment"># annulla l&#x27;ultimo commit</span>
<span class="hljs-comment"># git revert su range annulla i commit escludendo l&#x27;estremo a sinistra</span>
$ git revert A..B <span class="hljs-comment"># elimina i commit fino a B, mantenendo il commit A</span>
<span class="hljs-comment"># per includere l&#x27;estremo sinistro si deve utilizzare il parent ^</span>
$ git revert A^..B <span class="hljs-comment"># elimina i commit da A incluso a B incluso</span>
</code></pre>
<pre><code class="language-bat"><span class="hljs-function">D:\&gt;<span class="hljs-title">mkdir</span> <span class="hljs-title">tmp</span>
<span class="hljs-title">D</span>:\&gt;<span class="hljs-title">cd</span> <span class="hljs-title">tmp</span>
<span class="hljs-title">D</span>:\<span class="hljs-title">tmp</span>&gt; <span class="hljs-title">mkdir</span> <span class="hljs-title">git_revert_test</span>
<span class="hljs-title">D</span>:\<span class="hljs-title">tmp</span>&gt;<span class="hljs-title">cd</span> <span class="hljs-title">git_revert_test</span>/
<span class="hljs-title">D</span>:\<span class="hljs-title">tmp</span>\<span class="hljs-title">git_revert_test</span>&gt;<span class="hljs-title">git</span> <span class="hljs-title">init</span> .
<span class="hljs-title">Initialized</span> <span class="hljs-title">empty</span> <span class="hljs-title">Git</span> <span class="hljs-title">repository</span> <span class="hljs-title">in</span> <span class="hljs-title">D</span>:/<span class="hljs-title">tmp</span>/<span class="hljs-title">git_revert_test</span>/.<span class="hljs-title">git</span>/
<span class="hljs-title">D</span>:\<span class="hljs-title">tmp</span>\<span class="hljs-title">git_revert_test</span>&gt;<span class="hljs-title">type</span> <span class="hljs-title">nul</span> &gt; <span class="hljs-title">demo_file</span>
<span class="hljs-title">D</span>:\<span class="hljs-title">tmp</span>\<span class="hljs-title">git_revert_test</span>&gt;<span class="hljs-title">git</span> <span class="hljs-title">add</span> <span class="hljs-title">demo_file</span>
<span class="hljs-title">D</span>:\<span class="hljs-title">tmp</span>\<span class="hljs-title">git_revert_test</span>&gt;<span class="hljs-title">git</span> <span class="hljs-title">commit</span> -<span class="hljs-title">am</span> &quot;<span class="hljs-title">initial</span> <span class="hljs-title">commit</span>&quot;
[<span class="hljs-title">master</span> (<span class="hljs-title">root</span>-<span class="hljs-title">commit</span>) <span class="hljs-title">bfa8392</span>] <span class="hljs-title">initial</span> <span class="hljs-title">commit</span>
 1 <span class="hljs-title">file</span> <span class="hljs-title">changed</span>, 0 <span class="hljs-title">insertions</span>(+), 0 <span class="hljs-title">deletions</span>(-)
 <span class="hljs-title">create</span> <span class="hljs-title">mode</span> 100644 <span class="hljs-title">demo_file</span>
<span class="hljs-title">D</span>:\<span class="hljs-title">tmp</span>\<span class="hljs-title">git_revert_test</span>&gt;<span class="hljs-title">echo</span> &quot;<span class="hljs-title">initial</span> <span class="hljs-title">content</span>&quot; &gt;&gt; <span class="hljs-title">demo_file</span>
<span class="hljs-title">D</span>:\<span class="hljs-title">tmp</span>\<span class="hljs-title">git_revert_test</span>&gt;<span class="hljs-title">git</span> <span class="hljs-title">commit</span> -<span class="hljs-title">am</span> &quot;<span class="hljs-title">add</span> <span class="hljs-title">new</span> <span class="hljs-title">content</span> <span class="hljs-title">to</span> <span class="hljs-title">demo</span> <span class="hljs-title">file</span>&quot;
<span class="hljs-title">warning</span>: <span class="hljs-title">CRLF</span> <span class="hljs-title">will</span> <span class="hljs-title">be</span> <span class="hljs-title">replaced</span> <span class="hljs-title">by</span> <span class="hljs-title">LF</span> <span class="hljs-title">in</span> <span class="hljs-title">demo_file</span>.
<span class="hljs-title">The</span> <span class="hljs-title">file</span> <span class="hljs-title">will</span> <span class="hljs-title">have</span> <span class="hljs-title">its</span> <span class="hljs-title">original</span> <span class="hljs-title">line</span> <span class="hljs-title">endings</span> <span class="hljs-title">in</span> <span class="hljs-title">your</span> <span class="hljs-title">working</span> <span class="hljs-title">directory</span>
[<span class="hljs-title">master</span> 4<span class="hljs-title">a49831</span>] <span class="hljs-title">add</span> <span class="hljs-title">new</span> <span class="hljs-title">content</span> <span class="hljs-title">to</span> <span class="hljs-title">demo</span> <span class="hljs-title">file</span>
 1 <span class="hljs-title">file</span> <span class="hljs-title">changed</span>, 1 <span class="hljs-title">insertion</span>(+)
<span class="hljs-title">D</span>:\<span class="hljs-title">tmp</span>\<span class="hljs-title">git_revert_test</span>&gt;<span class="hljs-title">echo</span> &quot;<span class="hljs-title">prepended</span> <span class="hljs-title">line</span> <span class="hljs-title">content</span>&quot; &gt;&gt; <span class="hljs-title">demo_file</span>
<span class="hljs-title">D</span>:\<span class="hljs-title">tmp</span>\<span class="hljs-title">git_revert_test</span>&gt;<span class="hljs-title">git</span> <span class="hljs-title">commit</span> -<span class="hljs-title">am</span>&quot;<span class="hljs-title">prepend</span> <span class="hljs-title">content</span> <span class="hljs-title">to</span> <span class="hljs-title">demo</span> <span class="hljs-title">file</span>&quot;
<span class="hljs-title">warning</span>: <span class="hljs-title">CRLF</span> <span class="hljs-title">will</span> <span class="hljs-title">be</span> <span class="hljs-title">replaced</span> <span class="hljs-title">by</span> <span class="hljs-title">LF</span> <span class="hljs-title">in</span> <span class="hljs-title">demo_file</span>.
<span class="hljs-title">The</span> <span class="hljs-title">file</span> <span class="hljs-title">will</span> <span class="hljs-title">have</span> <span class="hljs-title">its</span> <span class="hljs-title">original</span> <span class="hljs-title">line</span> <span class="hljs-title">endings</span> <span class="hljs-title">in</span> <span class="hljs-title">your</span> <span class="hljs-title">working</span> <span class="hljs-title">directory</span>
[<span class="hljs-title">master</span> 506<span class="hljs-title">c2ff</span>] <span class="hljs-title">prepend</span> <span class="hljs-title">content</span> <span class="hljs-title">to</span> <span class="hljs-title">demo</span> <span class="hljs-title">file</span>
 1 <span class="hljs-title">file</span> <span class="hljs-title">changed</span>, 1 <span class="hljs-title">insertion</span>(+)
<span class="hljs-title">D</span>:\<span class="hljs-title">tmp</span>\<span class="hljs-title">git_revert_test</span>&gt;<span class="hljs-title">git</span> <span class="hljs-title">log</span> --<span class="hljs-title">oneline</span>
506<span class="hljs-title">c2ff</span> (<span class="hljs-title">HEAD</span> -&gt; <span class="hljs-title">master</span>) <span class="hljs-title">prepend</span> <span class="hljs-title">content</span> <span class="hljs-title">to</span> <span class="hljs-title">demo</span> <span class="hljs-title">file</span>
4<span class="hljs-title">a49831</span> <span class="hljs-title">add</span> <span class="hljs-title">new</span> <span class="hljs-title">content</span> <span class="hljs-title">to</span> <span class="hljs-title">demo</span> <span class="hljs-title">file</span>
<span class="hljs-title">bfa8392</span> <span class="hljs-title">initial</span> <span class="hljs-title">commit</span>
<span class="hljs-title">D</span>:\<span class="hljs-title">tmp</span>\<span class="hljs-title">git_revert_test</span>&gt;<span class="hljs-title">git</span> <span class="hljs-title">revert</span> --<span class="hljs-title">no</span>-<span class="hljs-title">commit</span> 4<span class="hljs-title">a49831</span>..506<span class="hljs-title">c2ff</span>
<span class="hljs-title">D</span>:\<span class="hljs-title">tmp</span>\<span class="hljs-title">git_revert_test</span>&gt;<span class="hljs-title">git</span> <span class="hljs-title">status</span>
<span class="hljs-title">Changes</span> <span class="hljs-title">to</span> <span class="hljs-title">be</span> <span class="hljs-title">committed</span>:
        <span class="hljs-title">modified</span>:   <span class="hljs-title">demo_file</span>
<span class="hljs-title">D</span>:\<span class="hljs-title">tmp</span>\<span class="hljs-title">git_revert_test</span>&gt;<span class="hljs-title">type</span> <span class="hljs-title">demo_file</span>
&quot;<span class="hljs-title">initial</span> <span class="hljs-title">content</span>&quot;
<span class="hljs-title">D</span>:\<span class="hljs-title">tmp</span>\<span class="hljs-title">git_revert_test</span>&gt;<span class="hljs-title">git</span> <span class="hljs-title">commit</span> -<span class="hljs-title">am</span> &quot;<span class="hljs-title">Revert</span> <span class="hljs-title">to</span> 4<span class="hljs-title">a49831</span>&quot;
[<span class="hljs-title">master</span> <span class="hljs-title">fe2460f</span>] <span class="hljs-title">Revert</span> <span class="hljs-title">to</span> 4<span class="hljs-title">a49831</span>
 1 <span class="hljs-title">file</span> <span class="hljs-title">changed</span>, 1 <span class="hljs-title">deletion</span>(-)
<span class="hljs-title">D</span>:\<span class="hljs-title">tmp</span>\<span class="hljs-title">git_revert_test</span>&gt;<span class="hljs-title">git</span> <span class="hljs-title">log</span> --<span class="hljs-title">oneline</span>
<span class="hljs-title">fe2460f</span> (<span class="hljs-title">HEAD</span> -&gt; <span class="hljs-title">master</span>) <span class="hljs-title">Revert</span> <span class="hljs-title">to</span> 4<span class="hljs-title">a49831</span>
506<span class="hljs-title">c2ff</span> <span class="hljs-title">prepend</span> <span class="hljs-title">content</span> <span class="hljs-title">to</span> <span class="hljs-title">demo</span> <span class="hljs-title">file</span>
4<span class="hljs-title">a49831</span> <span class="hljs-title">add</span> <span class="hljs-title">new</span> <span class="hljs-title">content</span> <span class="hljs-title">to</span> <span class="hljs-title">demo</span> <span class="hljs-title">file</span>
<span class="hljs-title">bfa8392</span> <span class="hljs-title">initial</span> <span class="hljs-title">commit</span> 
</span></code></pre>
<pre><code class="language-bash"><span class="hljs-built_in">mkdir</span> git_revert_test
<span class="hljs-built_in">cd</span> git_revert_test/
git init .
<span class="hljs-built_in">touch</span> demo_file
git add demo_file
git commit -am <span class="hljs-string">&quot;initial commit&quot;</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;initial content&quot;</span> &gt;&gt; demo_file
git commit -am <span class="hljs-string">&quot;add new content to demo file&quot;</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;prepended line content&quot;</span> &gt;&gt; demo_file
git commit -am<span class="hljs-string">&quot;prepend content to demo file&quot;</span>
git <span class="hljs-built_in">log</span> --oneline
git revert HEAD 
</code></pre>
</body></html>