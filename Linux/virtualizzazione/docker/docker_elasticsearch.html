<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
    <head>
        <meta charset="utf-8" />
        <meta name="generator" content="markdown-it" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
        <meta name="author" content="runner" />
        <meta name="dcterms.date" content="2025-04-08 13:44:52.563" />
        <title>docker_elasticsearch</title>
        <style type="text/css">
            code {
                white-space: pre-wrap;
            }
            span.smallcaps {
                font-variant: small-caps;
            }
            span.underline {
                text-decoration: underline;
            }
            div.column {
                display: inline-block;
                vertical-align: top;
                width: 50%;
            }
        </style>
        <style type="text/css">
            a.sourceLine {
                display: inline-block;
                line-height: 1.25;
            }
            a.sourceLine {
                pointer-events: none;
                color: inherit;
                text-decoration: inherit;
            }
            a.sourceLine:empty {
                height: 1.2em;
            }
            .sourceCode {
                overflow: visible;
            }
            code.sourceCode {
                white-space: pre;
                position: relative;
            }
            div.sourceCode {
                margin: 1em 0;
            }
            pre.sourceCode {
                margin: 0;
            }
            @media screen {
                div.sourceCode {
                    overflow: auto;
                }
            }
            @media print {
                code.sourceCode {
                    white-space: pre-wrap;
                }
                a.sourceLine {
                    text-indent: -1em;
                    padding-left: 1em;
                }
            }
            pre.numberSource a.sourceLine {
                position: relative;
                left: -4em;
            }
            pre.numberSource a.sourceLine::before {
                content: attr(title);
                position: relative;
                left: -1em;
                text-align: right;
                vertical-align: baseline;
                border: none;
                pointer-events: all;
                display: inline-block;
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -khtml-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
                padding: 0 4px;
                width: 4em;
                background-color: #ffffff;
                color: #a0a0a0;
            }
            pre.numberSource {
                margin-left: 3em;
                border-left: 1px solid #a0a0a0;
                padding-left: 4px;
            }
            div.sourceCode {
                color: #1f1c1b;
                background-color: #ffffff;
            }
            @media screen {
                a.sourceLine::before {
                    text-decoration: underline;
                }
            }
            code span {
                color: #1f1c1b;
            } /* Normal */
            code span.al {
                color: #bf0303;
                background-color: #f7e6e6;
                font-weight: bold;
            } /* Alert */
            code span.an {
                color: #ca60ca;
            } /* Annotation */
            code span.at {
                color: #0057ae;
            } /* Attribute */
            code span.bn {
                color: #b08000;
            } /* BaseN */
            code span.bu {
                color: #644a9b;
                font-weight: bold;
            } /* BuiltIn */
            code span.cf {
                color: #1f1c1b;
                font-weight: bold;
            } /* ControlFlow */
            code span.ch {
                color: #924c9d;
            } /* Char */
            code span.cn {
                color: #aa5500;
            } /* Constant */
            code span.co {
                color: #898887;
            } /* Comment */
            code span.cv {
                color: #0095ff;
            } /* CommentVar */
            code span.do {
                color: #607880;
            } /* Documentation */
            code span.dt {
                color: #0057ae;
            } /* DataType */
            code span.dv {
                color: #b08000;
            } /* DecVal */
            code span.er {
                color: #bf0303;
                text-decoration: underline;
            } /* Error */
            code span.ex {
                color: #0095ff;
                font-weight: bold;
            } /* Extension */
            code span.fl {
                color: #b08000;
            } /* Float */
            code span.fu {
                color: #644a9b;
            } /* Function */
            code span.im {
                color: #ff5500;
            } /* Import */
            code span.in {
                color: #b08000;
            } /* Information */
            code span.kw {
                color: #1f1c1b;
                font-weight: bold;
            } /* Keyword */
            code span.op {
                color: #1f1c1b;
            } /* Operator */
            code span.ot {
                color: #006e28;
            } /* Other */
            code span.pp {
                color: #006e28;
            } /* Preprocessor */
            code span.re {
                color: #0057ae;
                background-color: #e0e9f8;
            } /* RegionMarker */
            code span.sc {
                color: #3daee9;
            } /* SpecialChar */
            code span.ss {
                color: #ff5500;
            } /* SpecialString */
            code span.st {
                color: #bf0303;
            } /* String */
            code span.va {
                color: #0057ae;
            } /* Variable */
            code span.vs {
                color: #bf0303;
            } /* VerbatimString */
            code span.wa {
                color: #bf0303;
            } /* Warning */
        </style>
        <!--
  Firefox non carica font da locale quindi il font puÃ² non essere visibile
  quando di carica la pagina da locale.
  Bisogna impostare about:config
    security.fileuri.strict_origin_policy = false
  -->
        <link rel="stylesheet" href="../../../inc/css/katex.min.css" />
        <link rel="stylesheet" href="../../../inc/css/fonts/google_fonts.css" />
        <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous"> -->
        <link rel="stylesheet" href="../../../inc/css/bootstrap.min.css" />
        <link rel="stylesheet" href="../../../inc/css/cdp.css" />
        <!--[if lt IE 9]>
            <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
        <![endif]-->
        <meta name="keywords" content="Appunti,Note" />
        <meta name="description" content="Appunti di runner" />
        <link rel="icon" type="image/x-icon" href="../../../inc/img/favicon.ico" />
        <link rel="shortcut icon" type="image/x-icon" href="../../../inc/img/favicon.ico" />

        <link rel="stylesheet" href="../../../inc/js/hljs/styles/default.css" />
        <script src="../../../inc/js/hljs/lib/highlight.js"></script>
        <script src="../../../inc/js/bootstrap/bootstrap.bundle.min.js"></script>
        <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script> -->
        <script>
            hljs.initHighlightingOnLoad();
        </script>
        <script type="module">
            import mermaid from '../../../inc/js/mermaid/dist/mermaid.esm.min.mjs';
            // import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
            mermaid.initialize({ startOnLoad: true });
        </script>
    </head>
    <body></body>
</html>
<h1 id="docker_elasticsearch" tabindex="-1">docker_elasticsearch <a class="header-anchor" href="#docker_elasticsearch" aria-hidden="true">ðŸ”—</a></h1>
<p class="code">2025-04-08 13:44:52.563</p>
<nav class="table-of-contents"><ol><li><a href="#max-virtual-memory-areas-vm.max_map_count-%5B65530%5D-is-too-low%2C-increase-to-at-least-%5B262144%5D">Max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144] </a></li><li><a href="#bind-mount">Bind Mount </a></li><li><a href="#esempio-da-documentazione-ufficiale">Esempio da documentazione ufficiale </a></li><li><a href="#docker-compose">Docker Compose </a></li></ol></nav><h1 id="elastic-search" tabindex="-1">Elastic Search <a class="header-anchor" href="#elastic-search" aria-hidden="true">ðŸ”—</a></h1>
<ul>
<li>
<p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/getting-started.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/getting-started.html</a></p>
</li>
<li>
<p><a href="https://www.elastic.co/guide/en/kibana/8.2/docker.html">https://www.elastic.co/guide/en/kibana/8.2/docker.html</a></p>
</li>
<li>
<p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/settings.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/settings.html</a></p>
</li>
<li>
<p><a href="https://www.docker.elastic.co/">https://www.docker.elastic.co/</a></p>
</li>
<li>
<p><a href="https://www.docker.elastic.co/r/elasticsearch/elasticsearch:8.2.0-amd64">https://www.docker.elastic.co/r/elasticsearch/elasticsearch:8.2.0-amd64</a></p>
</li>
<li>
<p><a href="https://hub.docker.com/_/elasticsearch">https://hub.docker.com/_/elasticsearch</a></p>
</li>
<li>
<p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#docker-configuration-methods">https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#docker-configuration-methods</a></p>
<p>You can set individual Elasticsearch configuration parameters using Docker environment variables. The sample compose file and the single-node example use this method. You can use the setting name directly as the environment variable name. If you cannot do this, for example because your orchestration platform forbids periods in environment variable names, then you can use an alternative style by converting the setting name as follows.</p>
<ol>
<li>Change the setting name to uppercase</li>
<li>Prefix it with <code>ES_SETTING_</code></li>
<li>Escape any underscores (<code>_</code>) by duplicating them</li>
<li>Convert all periods (<code>.</code>) to underscores (<code>_</code>)</li>
<li></li>
</ol>
<p>For example, <code>-e bootstrap.memory_lock=true</code> becomes <code>-e ES_SETTING_BOOTSTRAP_MEMORY__LOCK=true</code>.</p>
</li>
</ul>
<h2 id="max-virtual-memory-areas-vm.max_map_count-%5B65530%5D-is-too-low%2C-increase-to-at-least-%5B262144%5D" tabindex="-1">Max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144] <a class="header-anchor" href="#max-virtual-memory-areas-vm.max_map_count-%5B65530%5D-is-too-low%2C-increase-to-at-least-%5B262144%5D" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#_set_vm_max_map_count_to_at_least_262144">https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#_set_vm_max_map_count_to_at_least_262144</a></li>
</ul>
<pre><code class="language-bash">$ <span class="hljs-built_in">sudo</span> sysctl -w vm.max_map_count=262144
$ sysctl vm.max_map_count
vm.max_map_count = 262144
$ <span class="hljs-built_in">sudo</span> bash -c <span class="hljs-string">&quot;cat &gt;&gt; /etc/sysctl.d/99-sysctl.conf&quot;</span> &lt;&lt; <span class="hljs-string">&#x27;EOF&#x27;</span>
vm.max_map_count=262144
EOF
</code></pre>
<p>sysctl in Arch/Manjaro</p>
<p>In Manjaro non si utilizza piÃ¹ il file <code>/etc/sysctl.conf</code>.</p>
<p><code>/etc/sysctl.conf</code> ==&gt;  <strong><code>/etc/sysctl.d/99-sysctl.conf</code></strong>
From version 207 and 21x, <strong>systemd</strong> only applies settings from <code>/etc/sysctl.d/*.conf</code> and <code>/usr/lib/sysctl.d/*.conf</code>.<br>
If you had customized <code>/etc/sysctl.conf</code>, <br>
you need to rename it as <strong><code>/etc/sysctl.d/99-sysctl.conf</code></strong>.\</p>
<h2 id="bind-mount" tabindex="-1">Bind Mount <a class="header-anchor" href="#bind-mount" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li>
<p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#_configuration_files_must_be_readable_by_the_elasticsearch_user">https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#_configuration_files_must_be_readable_by_the_elasticsearch_user</a>
ElasticSearch viene eseguito nel container con l'utente <code>elasticsearch</code> avente <code>uid:gid</code> <code>1000:0</code>.<br>
Le directory montate in bind mount dovranno avere il gruppo <code>0</code> come owner con diritti di lettura e scrittura.</p>
</li>
<li>
<p><a href="https://docs.docker.com/compose/compose-file/#user">https://docs.docker.com/compose/compose-file/#user</a></p>
</li>
<li>
<p><a href="https://docs.docker.com/reference/dockerfile/#user">https://docs.docker.com/reference/dockerfile/#user</a></p>
<p><code>USER &lt;UID&gt;[:&lt;GID&gt;]</code></p>
</li>
</ul>
<pre><code class="language-bash">$ <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">mkdir</span> -p /opt/elastic_search_pwned/data
$ <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chown</span> -R 1000:0 /opt/elastic_search_pwned/
$ <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chown</span> -R :0 /opt/elastic_search_pwned/

$ <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chmod</span> -R g+rwx /opt/elastic_search_pwned
<span class="hljs-comment"># Ensure all future content in the folder will inherit group ownership</span>
$ <span class="hljs-built_in">chmod</span> -R g+s /opt/elastic_search_pwned/

$ <span class="hljs-comment">#sudo chgrp 0 /opt/elastic_search_pwned/data</span>
$ <span class="hljs-built_in">sudo</span> usermod -aG 0 <span class="hljs-variable">$USER</span> <span class="hljs-comment"># aggiungo l&#x27;utente host al gruppo root</span>
</code></pre>
<h2 id="esempio-da-documentazione-ufficiale" tabindex="-1">Esempio da documentazione ufficiale <a class="header-anchor" href="#esempio-da-documentazione-ufficiale" aria-hidden="true">ðŸ”—</a></h2>
<pre><code class="language-bash">$ systemctl status docker --no-pager
<span class="hljs-comment"># Delete all Docker Containers:</span>
$ docker <span class="hljs-built_in">rm</span> -f $(docker ps -a -q)
<span class="hljs-comment"># Delete all Volumes</span>
$ docker volume <span class="hljs-built_in">rm</span> $(docker volume <span class="hljs-built_in">ls</span> -q)
$ <span class="hljs-built_in">rm</span> -rf /opt/elastic_search_pwned/data/*

$ docker volume create elastic-conf 
$ docker volume create elastic-logs
$ docker volume create elastic-tmp
$ docker volume <span class="hljs-built_in">ls</span>
$ docker volume inspect elastic-conf 

<span class="hljs-comment"># Elastic Search</span>
$ docker network create elastic
$ docker pull docker.elastic.co/elasticsearch/elasticsearch:8.2.1
$ docker run --name es01 --net elastic -p 9200:9200 -p 9300:9300 -it -e <span class="hljs-string">&quot;discovery.type=single-node&quot;</span> --read-only -v /opt/elastic_search_pwned/data:/usr/share/elasticsearch/data -v elastic-conf:/usr/share/elasticsearch/config -v elastic-logs:/usr/share/elasticsearch/logs -v elastic-tmp:/tmp  docker.elastic.co/elasticsearch/elasticsearch:8.2.1
$ docker <span class="hljs-built_in">cp</span> es01:/usr/share/elasticsearch/config/certs/http_ca.crt .

<span class="hljs-comment"># When you start Elasticsearch for the first time, the following security configuration occurs automatically:</span>
<span class="hljs-comment"># - Certificates and keys are generated for the transport and HTTP layers.</span>
<span class="hljs-comment"># - The Transport Layer Security (TLS) configuration settings are written to elasticsearch.yml.</span>
<span class="hljs-comment"># - A password is generated for the elastic user.</span>
<span class="hljs-comment"># - An enrollment token is generated for Kibana.</span>
<span class="hljs-comment"># You might need to scroll back a bit in the terminal to view the password and enrollment token</span>
<span class="hljs-comment"># Copy the generated password and enrollment token and save them in a secure location. </span>

<span class="hljs-comment"># Kibana</span>
$ docker pull docker.elastic.co/kibana/kibana:8.2.1
$ docker run --name kibana --net elastic -p 5601:5601 docker.elastic.co/kibana/kibana:8.2.1
<span class="hljs-comment"># When you start Kibana, a unique link is output to your terminal.</span>
<span class="hljs-comment"># To access Kibana, click the generated link in your terminal.</span>
<span class="hljs-comment"># In your browser, paste the enrollment token that you copied and click the button to connect your Kibana instance with Elasticsearch.</span>
<span class="hljs-comment"># Log in to Kibana as the elastic user with the password that was generated when you started Elasticsearch.</span>

<span class="hljs-comment"># Test di comunicazione con curl</span>
<span class="hljs-comment"># verify that you can connect to your Elasticsearch cluster by making an authenticated call,</span>
<span class="hljs-comment"># using the http_ca.crt file that you copied from your Docker container. Enter the password for the elastic user when prompted.</span>
$ curl --cacert http_ca.crt -u elastic https://localhost:9200

$ docker network <span class="hljs-built_in">rm</span> elastic
$ docker <span class="hljs-built_in">rm</span> es01
$ docker <span class="hljs-built_in">rm</span> kib-01

<span class="hljs-comment"># If you need to reset the password for the elastic user</span>
$ docker <span class="hljs-built_in">exec</span> -it es01 /usr/share/elasticsearch/bin/elasticsearch-reset-password
</code></pre>
<h2 id="docker-compose" tabindex="-1">Docker Compose <a class="header-anchor" href="#docker-compose" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li>
<p><a href="https://github.com/docker/awesome-compose">https://github.com/docker/awesome-compose</a></p>
</li>
<li>
<p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#_prepare_the_environment">https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#_prepare_the_environment</a></p>
</li>
<li>
<p><a href="https://docs.docker.com/compose/environment-variables/#the-env-file">https://docs.docker.com/compose/environment-variables/#the-env-file</a> Carica automaticamente il file <code>.env</code>.</p>
</li>
<li>
<p><a href="https://docs.docker.com/compose/">https://docs.docker.com/compose/</a></p>
</li>
<li>
<p><a href="https://docs.docker.com/compose/compose-file/#image">https://docs.docker.com/compose/compose-file/#image</a> <a href="https://docs.docker.com/compose/compose-file/#image">https://docs.docker.com/compose/compose-file/#image</a></p>
</li>
<li>
<p><a href="https://docs.docker.com/compose/compose-file/#read_only">https://docs.docker.com/compose/compose-file/#read_only</a>  configures service container to be created with a read-only filesystem.</p>
</li>
<li>
<p><a href="https://docs.docker.com/compose/compose-file/#restart">https://docs.docker.com/compose/compose-file/#restart</a> <code>unless-stopped</code>: The policy restarts a container irrespective of the exit code but will stop restarting when the service is stopped or removed.</p>
</li>
<li>
<p><a href="https://docs.docker.com/compose/compose-file/#container_name">https://docs.docker.com/compose/compose-file/#container_name</a> a string that specifies a custom container name, rather than a generated default name.</p>
</li>
<li>
<p><a href="https://docs.docker.com/compose/compose-file/#env_file">https://docs.docker.com/compose/compose-file/#env_file</a> adds environment variables to the container based on file content. <code>env_file: .env</code></p>
</li>
<li>
<p><a href="https://docs.docker.com/compose/compose-file/#environment">https://docs.docker.com/compose/compose-file/#environment</a> defines environment variables set in the container. When both env_file and environment are set for a service, values set by environment have precedence.</p>
</li>
<li>
<p><a href="https://docs.docker.com/compose/environment-variables/#pass-environment-variables-to-containers">https://docs.docker.com/compose/environment-variables/#pass-environment-variables-to-containers</a> se non si assegna il valore ma si usa solamente il nome della variabile allora viene preso il valore della variabile di ambiente della shell di lancio.</p>
</li>
<li>
<p><a href="https://docs.docker.com/compose/compose-file/#expose">https://docs.docker.com/compose/compose-file/#expose</a> defines the ports that Compose implementations MUST expose from container.</p>
</li>
<li>
<p><a href="https://docs.docker.com/compose/compose-file/#volumes">https://docs.docker.com/compose/compose-file/#volumes</a> defines mount host paths or named volumes that MUST be accessible by service containers.</p>
</li>
<li>
<p><a href="https://docs.docker.com/compose/compose-file/#ports">https://docs.docker.com/compose/compose-file/#ports</a> Exposes container ports.</p>
<pre><code>  [HOST:]CONTAINER
  HOST is [IP:](port | range)
  CONTAINER is port | range        
</code></pre>
</li>
<li>
<p><a href="https://docs.docker.com/compose/compose-file/#healthcheck">https://docs.docker.com/compose/compose-file/#healthcheck</a></p>
</li>
<li>
<p><a href="https://docs.docker.com/compose/compose-file/deploy/#resources">https://docs.docker.com/compose/compose-file/deploy/#resources</a></p>
</li>
<li>
<p><a href="https://docs.docker.com/compose/compose-file/deploy/#memory">https://docs.docker.com/compose/compose-file/deploy/#memory</a></p>
</li>
<li>
<p><a href="https://docs.docker.com/compose/compose-file/#specifying-byte-values">https://docs.docker.com/compose/compose-file/#specifying-byte-values</a></p>
</li>
<li>
<p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#docker-file">https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#docker-file</a></p>
</li>
<li>
<p><a href="https://stackoverflow.com/questions/71213784/unable-to-start-elastic-search-8-and-kibana-using-docker">https://stackoverflow.com/questions/71213784/unable-to-start-elastic-search-8-and-kibana-using-docker</a></p>
</li>
<li>
<p><a href="https://stackoverflow.com/questions/31677563/elasticsearch-failed-to-connect-to-localhost-port-9200-connection-refused">https://stackoverflow.com/questions/31677563/elasticsearch-failed-to-connect-to-localhost-port-9200-connection-refused</a></p>
<pre><code>  # Port to expose Elasticsearch HTTP API to the host
  ES_PORT=9200
  #ES_PORT=127.0.0.1:9200
</code></pre>
</li>
<li>
<p><a href="https://docs.docker.com/compose/networking/">https://docs.docker.com/compose/networking/</a></p>
<pre><code>  When HOST_PORT is defined, the service is accessible to the Host.
</code></pre>
</li>
<li>
<p><a href="https://www.elastic.co/guide/en/kibana/current/docker.html#environment-variable-config">https://www.elastic.co/guide/en/kibana/current/docker.html#environment-variable-config</a></p>
<pre><code>  ELASTICSEARCH_HOSTS elasticsearch.hosts 
  ELASTICSEARCH_HOSTS: '[&quot;http://es01:9200&quot;,&quot;http://es02:9200&quot;,&quot;http://es03:9200&quot;]'
</code></pre>
</li>
<li>
<p><a href="https://stackoverflow.com/questions/64630068/cant-connect-elasticsearch-from-my-nodejs-app-connect-econnrefused-127-0-0-19">https://stackoverflow.com/questions/64630068/cant-connect-elasticsearch-from-my-nodejs-app-connect-econnrefused-127-0-0-19</a></p>
</li>
</ul>
<pre><code class="language-bash"><span class="hljs-comment"># Stop e Reset</span>
$ docker-compose down -v <span class="hljs-comment"># rimuove anche i volumi oltre ai container, Stop and remove containers, networks</span>
$ docker <span class="hljs-built_in">rm</span> -f $(docker ps -a -q)
$ docker volume <span class="hljs-built_in">rm</span> $(docker volume <span class="hljs-built_in">ls</span> -q)
$ <span class="hljs-built_in">rm</span> -rf /opt/elastic_search_pwned/data/*
<span class="hljs-comment"># Start</span>
$ docker-compose up -d   <span class="hljs-comment"># Create and start containers</span>
$ docker compose <span class="hljs-built_in">cp</span> es01:/usr/share/elasticsearch/config/certs/ca/ca.crt .
$ docker compose ps
<span class="hljs-comment"># UtilitÃ </span>
$ docker compose <span class="hljs-built_in">exec</span>  es01 <span class="hljs-built_in">ls</span> -la /usr/share/elasticsearch/config/certs/
$ docker compose <span class="hljs-built_in">exec</span> -it -u 0 es01 bash <span class="hljs-comment"># -u 0 entra come root invece che come elasticsearch</span>
$ docker compose <span class="hljs-built_in">exec</span>  es01 bash -c <span class="hljs-string">&quot;command1 ; command2 ; command3&quot;</span>
$ docker stats <span class="hljs-comment"># per vedere la memoria utilizzata</span>
$ docker compose logs es01
$ docker compose ps
<span class="hljs-comment"># Query di esempio</span>
$ curl --cacert ca.crt -u elastic:elspwd01 https://es01:9200
<span class="hljs-comment"># http://kibana:5601</span>
</code></pre>
</body></html>