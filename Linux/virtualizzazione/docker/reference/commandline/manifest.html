<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
    <head>
        <meta charset="utf-8" />
        <meta name="generator" content="markdown-it" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
        <meta name="author" content="runner" />
        <meta name="dcterms.date" content="2025-04-08 13:44:52.830" />
        <title>manifest</title>
        <style type="text/css">
            code {
                white-space: pre-wrap;
            }
            span.smallcaps {
                font-variant: small-caps;
            }
            span.underline {
                text-decoration: underline;
            }
            div.column {
                display: inline-block;
                vertical-align: top;
                width: 50%;
            }
        </style>
        <style type="text/css">
            a.sourceLine {
                display: inline-block;
                line-height: 1.25;
            }
            a.sourceLine {
                pointer-events: none;
                color: inherit;
                text-decoration: inherit;
            }
            a.sourceLine:empty {
                height: 1.2em;
            }
            .sourceCode {
                overflow: visible;
            }
            code.sourceCode {
                white-space: pre;
                position: relative;
            }
            div.sourceCode {
                margin: 1em 0;
            }
            pre.sourceCode {
                margin: 0;
            }
            @media screen {
                div.sourceCode {
                    overflow: auto;
                }
            }
            @media print {
                code.sourceCode {
                    white-space: pre-wrap;
                }
                a.sourceLine {
                    text-indent: -1em;
                    padding-left: 1em;
                }
            }
            pre.numberSource a.sourceLine {
                position: relative;
                left: -4em;
            }
            pre.numberSource a.sourceLine::before {
                content: attr(title);
                position: relative;
                left: -1em;
                text-align: right;
                vertical-align: baseline;
                border: none;
                pointer-events: all;
                display: inline-block;
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -khtml-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
                padding: 0 4px;
                width: 4em;
                background-color: #ffffff;
                color: #a0a0a0;
            }
            pre.numberSource {
                margin-left: 3em;
                border-left: 1px solid #a0a0a0;
                padding-left: 4px;
            }
            div.sourceCode {
                color: #1f1c1b;
                background-color: #ffffff;
            }
            @media screen {
                a.sourceLine::before {
                    text-decoration: underline;
                }
            }
            code span {
                color: #1f1c1b;
            } /* Normal */
            code span.al {
                color: #bf0303;
                background-color: #f7e6e6;
                font-weight: bold;
            } /* Alert */
            code span.an {
                color: #ca60ca;
            } /* Annotation */
            code span.at {
                color: #0057ae;
            } /* Attribute */
            code span.bn {
                color: #b08000;
            } /* BaseN */
            code span.bu {
                color: #644a9b;
                font-weight: bold;
            } /* BuiltIn */
            code span.cf {
                color: #1f1c1b;
                font-weight: bold;
            } /* ControlFlow */
            code span.ch {
                color: #924c9d;
            } /* Char */
            code span.cn {
                color: #aa5500;
            } /* Constant */
            code span.co {
                color: #898887;
            } /* Comment */
            code span.cv {
                color: #0095ff;
            } /* CommentVar */
            code span.do {
                color: #607880;
            } /* Documentation */
            code span.dt {
                color: #0057ae;
            } /* DataType */
            code span.dv {
                color: #b08000;
            } /* DecVal */
            code span.er {
                color: #bf0303;
                text-decoration: underline;
            } /* Error */
            code span.ex {
                color: #0095ff;
                font-weight: bold;
            } /* Extension */
            code span.fl {
                color: #b08000;
            } /* Float */
            code span.fu {
                color: #644a9b;
            } /* Function */
            code span.im {
                color: #ff5500;
            } /* Import */
            code span.in {
                color: #b08000;
            } /* Information */
            code span.kw {
                color: #1f1c1b;
                font-weight: bold;
            } /* Keyword */
            code span.op {
                color: #1f1c1b;
            } /* Operator */
            code span.ot {
                color: #006e28;
            } /* Other */
            code span.pp {
                color: #006e28;
            } /* Preprocessor */
            code span.re {
                color: #0057ae;
                background-color: #e0e9f8;
            } /* RegionMarker */
            code span.sc {
                color: #3daee9;
            } /* SpecialChar */
            code span.ss {
                color: #ff5500;
            } /* SpecialString */
            code span.st {
                color: #bf0303;
            } /* String */
            code span.va {
                color: #0057ae;
            } /* Variable */
            code span.vs {
                color: #bf0303;
            } /* VerbatimString */
            code span.wa {
                color: #bf0303;
            } /* Warning */
        </style>
        <!--
  Firefox non carica font da locale quindi il font puÃ² non essere visibile
  quando di carica la pagina da locale.
  Bisogna impostare about:config
    security.fileuri.strict_origin_policy = false
  -->
        <link rel="stylesheet" href="../../../../../inc/css/katex.min.css" />
        <link rel="stylesheet" href="../../../../../inc/css/fonts/google_fonts.css" />
        <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous"> -->
        <link rel="stylesheet" href="../../../../../inc/css/bootstrap.min.css" />
        <link rel="stylesheet" href="../../../../../inc/css/cdp.css" />
        <!--[if lt IE 9]>
            <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
        <![endif]-->
        <meta name="keywords" content="Appunti,Note" />
        <meta name="description" content="Appunti di runner" />
        <link rel="icon" type="image/x-icon" href="../../../../../inc/img/favicon.ico" />
        <link rel="shortcut icon" type="image/x-icon" href="../../../../../inc/img/favicon.ico" />

        <link rel="stylesheet" href="../../../../../inc/js/hljs/styles/default.css" />
        <script src="../../../../../inc/js/hljs/lib/highlight.js"></script>
        <script src="../../../../../inc/js/bootstrap/bootstrap.bundle.min.js"></script>
        <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script> -->
        <script>
            hljs.initHighlightingOnLoad();
        </script>
        <script type="module">
            import mermaid from '../../../../../inc/js/mermaid/dist/mermaid.esm.min.mjs';
            // import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
            mermaid.initialize({ startOnLoad: true });
        </script>
    </head>
    <body></body>
</html>
<h1 id="manifest" tabindex="-1">manifest <a class="header-anchor" href="#manifest" aria-hidden="true">ðŸ”—</a></h1>
<p class="code">2025-04-08 13:44:52.830</p>
<nav class="table-of-contents"><ol><li><a href="#title%3A-%22manifest%22description%3A-%22the-manifest-command-description-and-usage%22keywords%3A-%22docker%2C-manifest%22">title: &quot;manifest&quot;description: &quot;The manifest command description and usage&quot;keywords: &quot;docker, manifest&quot; </a></li><li><a href="#description">Description </a><ol><li><a href="#manifest-inspect">manifest inspect </a></li><li><a href="#manifest-create">manifest create </a></li><li><a href="#manifest-annotate">manifest annotate </a></li><li><a href="#manifest-push">manifest push </a></li><li><a href="#working-with-insecure-registries">Working with insecure registries </a></li></ol></li><li><a href="#examples">Examples </a><ol><li><a href="#inspect-an-image's-manifest-object">Inspect an image&#39;s manifest object </a></li><li><a href="#inspect-an-image's-manifest-and-get-the-os%2Farch-info">Inspect an image&#39;s manifest and get the os/arch info </a></li><li><a href="#create-and-push-a-manifest-list">Create and push a manifest list </a></li><li><a href="#inspect-a-manifest-list">Inspect a manifest list </a></li><li><a href="#push-to-an-insecure-registry">Push to an insecure registry </a></li></ol></li></ol></nav><hr>
<h2 id="title%3A-%22manifest%22description%3A-%22the-manifest-command-description-and-usage%22keywords%3A-%22docker%2C-manifest%22" tabindex="-1">title: &quot;manifest&quot;
description: &quot;The manifest command description and usage&quot;
keywords: &quot;docker, manifest&quot; <a class="header-anchor" href="#title%3A-%22manifest%22description%3A-%22the-manifest-command-description-and-usage%22keywords%3A-%22docker%2C-manifest%22" aria-hidden="true">ðŸ”—</a></h2>
<pre><code class="language-markdown">Usage:  docker manifest COMMAND

Manage Docker image manifests and manifest lists

Options:
<span class="hljs-code">      --help   Print usage
</span>
Commands:
  annotate    Add additional information to a local image manifest
  create      Create a local manifest list for annotating and pushing to a registry
  inspect     Display an image manifest, or manifest list
  push        Push a manifest list to a repository

</code></pre>
<h2 id="description" tabindex="-1">Description <a class="header-anchor" href="#description" aria-hidden="true">ðŸ”—</a></h2>
<p>The <code>docker manifest</code> command by itself performs no action. In order to operate
on a manifest or manifest list, one of the subcommands must be used.</p>
<p>A single manifest is information about an image, such as layers, size, and digest.
The docker manifest command also gives users additional information such as the os
and architecture an image was built for.</p>
<p>A manifest list is a list of image layers that is created by specifying one or
more (ideally more than one) image names. It can then be used in the same way as
an image name in <code>docker pull</code> and <code>docker run</code> commands, for example.</p>
<p>Ideally a manifest list is created from images that are identical in function for
different os/arch combinations. For this reason, manifest lists are often referred
to as &quot;multi-arch images&quot;. However, a user could create a manifest list that points
to two images -- one for windows on amd64, and one for darwin on amd64.</p>
<h3 id="manifest-inspect" tabindex="-1">manifest inspect <a class="header-anchor" href="#manifest-inspect" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-console"><span class="hljs-meta prompt_">$ </span><span class="language-bash">docker manifest inspect --<span class="hljs-built_in">help</span></span>

Usage:  docker manifest inspect [OPTIONS] [MANIFEST_LIST] MANIFEST

Display an image manifest, or manifest list

Options:
      --help       Print usage
      --insecure   Allow communication with an insecure registry
  -v, --verbose    Output additional info including layers and platform
</code></pre>
<h3 id="manifest-create" tabindex="-1">manifest create <a class="header-anchor" href="#manifest-create" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-console">Usage:  docker manifest create MANIFEST_LIST MANIFEST [MANIFEST...]

Create a local manifest list for annotating and pushing to a registry

Options:
  -a, --amend      Amend an existing manifest list
      --insecure   Allow communication with an insecure registry
      --help       Print usage
</code></pre>
<h3 id="manifest-annotate" tabindex="-1">manifest annotate <a class="header-anchor" href="#manifest-annotate" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-console">Usage:  docker manifest annotate [OPTIONS] MANIFEST_LIST MANIFEST

Add additional information to a local image manifest

Options:
      --arch string               Set architecture
      --help                      Print usage
      --os string                 Set operating system
      --os-version string         Set operating system version
      --os-features stringSlice   Set operating system feature
      --variant string            Set architecture variant

</code></pre>
<h3 id="manifest-push" tabindex="-1">manifest push <a class="header-anchor" href="#manifest-push" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-console">Usage:  docker manifest push [OPTIONS] MANIFEST_LIST

Push a manifest list to a repository

Options:
      --help       Print usage
      --insecure   Allow push to an insecure registry
  -p, --purge      Remove the local manifest list after push
</code></pre>
<h3 id="working-with-insecure-registries" tabindex="-1">Working with insecure registries <a class="header-anchor" href="#working-with-insecure-registries" aria-hidden="true">ðŸ”—</a></h3>
<p>The manifest command interacts solely with a Docker registry. Because of this,
it has no way to query the engine for the list of allowed insecure registries.
To allow the CLI to interact with an insecure registry, some <code>docker manifest</code>
commands have an <code>--insecure</code> flag. For each transaction, such as a <code>create</code>,
which queries a registry, the <code>--insecure</code> flag must be specified. This flag
tells the CLI that this registry call may ignore security concerns like missing
or self-signed certificates. Likewise, on a <code>manifest push</code> to an insecure
registry, the <code>--insecure</code> flag must be specified. If this is not used with an
insecure registry, the manifest command fails to find a registry that meets the
default requirements.</p>
<h2 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-hidden="true">ðŸ”—</a></h2>
<h3 id="inspect-an-image's-manifest-object" tabindex="-1">Inspect an image's manifest object <a class="header-anchor" href="#inspect-an-image's-manifest-object" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-console"><span class="hljs-meta prompt_">$ </span><span class="language-bash">docker manifest inspect hello-world</span>
{
        &quot;schemaVersion&quot;: 2,
        &quot;mediaType&quot;: &quot;application/vnd.docker.distribution.manifest.v2+json&quot;,
        &quot;config&quot;: {
                &quot;mediaType&quot;: &quot;application/vnd.docker.container.image.v1+json&quot;,
                &quot;size&quot;: 1520,
                &quot;digest&quot;: &quot;sha256:1815c82652c03bfd8644afda26fb184f2ed891d921b20a0703b46768f9755c57&quot;
        },
        &quot;layers&quot;: [
                {
                        &quot;mediaType&quot;: &quot;application/vnd.docker.image.rootfs.diff.tar.gzip&quot;,
                        &quot;size&quot;: 972,
                        &quot;digest&quot;: &quot;sha256:b04784fba78d739b526e27edc02a5a8cd07b1052e9283f5fc155828f4b614c28&quot;
                }
        ]
}
</code></pre>
<h3 id="inspect-an-image's-manifest-and-get-the-os%2Farch-info" tabindex="-1">Inspect an image's manifest and get the os/arch info <a class="header-anchor" href="#inspect-an-image's-manifest-and-get-the-os%2Farch-info" aria-hidden="true">ðŸ”—</a></h3>
<p>The <code>docker manifest inspect</code> command takes an optional <code>--verbose</code> flag
that gives you the image's name (Ref), and architecture and os (Platform).</p>
<p>Just as with other docker commands that take image names, you can refer to an image with or
without a tag, or by digest (e.g. <code>hello-world@sha256:f3b3b28a45160805bb16542c9531888519430e9e6d6ffc09d72261b0d26ff74f</code>).</p>
<p>Here is an example of inspecting an image's manifest with the <code>--verbose</code> flag:</p>
<pre><code class="language-console"><span class="hljs-meta prompt_">$ </span><span class="language-bash">docker manifest inspect --verbose hello-world</span>
{
        &quot;Ref&quot;: &quot;docker.io/library/hello-world:latest&quot;,
        &quot;Digest&quot;: &quot;sha256:f3b3b28a45160805bb16542c9531888519430e9e6d6ffc09d72261b0d26ff74f&quot;,
        &quot;SchemaV2Manifest&quot;: {
                &quot;schemaVersion&quot;: 2,
                &quot;mediaType&quot;: &quot;application/vnd.docker.distribution.manifest.v2+json&quot;,
                &quot;config&quot;: {
                        &quot;mediaType&quot;: &quot;application/vnd.docker.container.image.v1+json&quot;,
                        &quot;size&quot;: 1520,
                        &quot;digest&quot;: &quot;sha256:1815c82652c03bfd8644afda26fb184f2ed891d921b20a0703b46768f9755c57&quot;
                },
                &quot;layers&quot;: [
                        {
                                &quot;mediaType&quot;: &quot;application/vnd.docker.image.rootfs.diff.tar.gzip&quot;,
                                &quot;size&quot;: 972,
                                &quot;digest&quot;: &quot;sha256:b04784fba78d739b526e27edc02a5a8cd07b1052e9283f5fc155828f4b614c28&quot;
                        }
                ]
        },
        &quot;Platform&quot;: {
                &quot;architecture&quot;: &quot;amd64&quot;,
                &quot;os&quot;: &quot;linux&quot;
        }
}
</code></pre>
<h3 id="create-and-push-a-manifest-list" tabindex="-1">Create and push a manifest list <a class="header-anchor" href="#create-and-push-a-manifest-list" aria-hidden="true">ðŸ”—</a></h3>
<p>To create a manifest list, you first <code>create</code> the manifest list locally by
specifying the constituent images you would like to have included in your
manifest list. Keep in mind that this is pushed to a registry, so if you want to
push to a registry other than the docker registry, you need to create your
manifest list with the registry name or IP and port.
This is similar to tagging an image and pushing it to a foreign registry.</p>
<p>After you have created your local copy of the manifest list, you may optionally
<code>annotate</code> it. Annotations allowed are the architecture and operating system
(overriding the image's current values), os features, and an architecture variant.</p>
<p>Finally, you need to <code>push</code> your manifest list to the desired registry. Below are
descriptions of these three commands, and an example putting them all together.</p>
<pre><code class="language-console"><span class="hljs-meta prompt_">$ </span><span class="language-bash">docker manifest create 45.55.81.106:5000/coolapp:v1 \
    45.55.81.106:5000/coolapp-ppc64le-linux:v1 \
    45.55.81.106:5000/coolapp-arm-linux:v1 \
    45.55.81.106:5000/coolapp-amd64-linux:v1 \
    45.55.81.106:5000/coolapp-amd64-windows:v1</span>

Created manifest list 45.55.81.106:5000/coolapp:v1
</code></pre>
<pre><code class="language-console"><span class="hljs-meta prompt_">$ </span><span class="language-bash">docker manifest annotate 45.55.81.106:5000/coolapp:v1 45.55.81.106:5000/coolapp-arm-linux --<span class="hljs-built_in">arch</span> arm</span>
</code></pre>
<pre><code class="language-console"><span class="hljs-meta prompt_">$ </span><span class="language-bash">docker manifest push 45.55.81.106:5000/coolapp:v1</span>
Pushed manifest 45.55.81.106:5000/coolapp@sha256:9701edc932223a66e49dd6c894a11db8c2cf4eccd1414f1ec105a623bf16b426 with digest: sha256:f67dcc5fc786f04f0743abfe0ee5dae9bd8caf8efa6c8144f7f2a43889dc513b
Pushed manifest 45.55.81.106:5000/coolapp@sha256:f3b3b28a45160805bb16542c9531888519430e9e6d6ffc09d72261b0d26ff74f with digest: sha256:b64ca0b60356a30971f098c92200b1271257f100a55b351e6bbe985638352f3a
Pushed manifest 45.55.81.106:5000/coolapp@sha256:39dc41c658cf25f33681a41310372f02728925a54aac3598310bfb1770615fc9 with digest: sha256:df436846483aff62bad830b730a0d3b77731bcf98ba5e470a8bbb8e9e346e4e8
Pushed manifest 45.55.81.106:5000/coolapp@sha256:f91b1145cd4ac800b28122313ae9e88ac340bb3f1e3a4cd3e59a3648650f3275 with digest: sha256:5bb8e50aa2edd408bdf3ddf61efb7338ff34a07b762992c9432f1c02fc0e5e62
sha256:050b213d49d7673ba35014f21454c573dcbec75254a08f4a7c34f66a47c06aba

</code></pre>
<h3 id="inspect-a-manifest-list" tabindex="-1">Inspect a manifest list <a class="header-anchor" href="#inspect-a-manifest-list" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-console"><span class="hljs-meta prompt_">$ </span><span class="language-bash">docker manifest inspect coolapp:v1</span>
{
   &quot;schemaVersion&quot;: 2,
   &quot;mediaType&quot;: &quot;application/vnd.docker.distribution.manifest.list.v2+json&quot;,
   &quot;manifests&quot;: [
      {
         &quot;mediaType&quot;: &quot;application/vnd.docker.distribution.manifest.v2+json&quot;,
         &quot;size&quot;: 424,
         &quot;digest&quot;: &quot;sha256:f67dcc5fc786f04f0743abfe0ee5dae9bd8caf8efa6c8144f7f2a43889dc513b&quot;,
         &quot;platform&quot;: {
            &quot;architecture&quot;: &quot;arm&quot;,
            &quot;os&quot;: &quot;linux&quot;
         }
      },
      {
         &quot;mediaType&quot;: &quot;application/vnd.docker.distribution.manifest.v2+json&quot;,
         &quot;size&quot;: 424,
         &quot;digest&quot;: &quot;sha256:b64ca0b60356a30971f098c92200b1271257f100a55b351e6bbe985638352f3a&quot;,
         &quot;platform&quot;: {
            &quot;architecture&quot;: &quot;amd64&quot;,
            &quot;os&quot;: &quot;linux&quot;
         }
      },
      {
         &quot;mediaType&quot;: &quot;application/vnd.docker.distribution.manifest.v2+json&quot;,
         &quot;size&quot;: 425,
         &quot;digest&quot;: &quot;sha256:df436846483aff62bad830b730a0d3b77731bcf98ba5e470a8bbb8e9e346e4e8&quot;,
         &quot;platform&quot;: {
            &quot;architecture&quot;: &quot;ppc64le&quot;,
            &quot;os&quot;: &quot;linux&quot;
         }
      },
      {
         &quot;mediaType&quot;: &quot;application/vnd.docker.distribution.manifest.v2+json&quot;,
         &quot;size&quot;: 425,
         &quot;digest&quot;: &quot;sha256:5bb8e50aa2edd408bdf3ddf61efb7338ff34a07b762992c9432f1c02fc0e5e62&quot;,
         &quot;platform&quot;: {
            &quot;architecture&quot;: &quot;s390x&quot;,
            &quot;os&quot;: &quot;linux&quot;
         }
      }
   ]
}
</code></pre>
<h3 id="push-to-an-insecure-registry" tabindex="-1">Push to an insecure registry <a class="header-anchor" href="#push-to-an-insecure-registry" aria-hidden="true">ðŸ”—</a></h3>
<p>Here is an example of creating and pushing a manifest list using a known
insecure registry.</p>
<pre><code class="language-console"><span class="hljs-meta prompt_">$ </span><span class="language-bash">docker manifest create --insecure myprivateregistry.mycompany.com/repo/image:1.0 \
    myprivateregistry.mycompany.com/repo/image-linux-ppc64le:1.0 \
    myprivateregistry.mycompany.com/repo/image-linux-s390x:1.0 \
    myprivateregistry.mycompany.com/repo/image-linux-arm:1.0 \
    myprivateregistry.mycompany.com/repo/image-linux-armhf:1.0 \
    myprivateregistry.mycompany.com/repo/image-windows-amd64:1.0 \
    myprivateregistry.mycompany.com/repo/image-linux-amd64:1.0</span>
<span class="hljs-meta prompt_">
$ </span><span class="language-bash">docker manifest push --insecure myprivateregistry.mycompany.com/repo/image:tag</span>
</code></pre>
<blockquote>
<p><strong>Note</strong></p>
<p>The <code>--insecure</code> flag is not required to annotate a manifest list,
since annotations are to a locally-stored copy of a manifest list. You may also
skip the <code>--insecure</code> flag if you are performing a <code>docker manifest inspect</code>
on a locally-stored manifest list. Be sure to keep in mind that locally-stored
manifest lists are never used by the engine on a <code>docker pull</code>.</p>
</blockquote>
</body></html>