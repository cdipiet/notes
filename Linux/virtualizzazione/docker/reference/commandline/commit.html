<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
    <head>
        <meta charset="utf-8" />
        <meta name="generator" content="markdown-it" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
        <meta name="author" content="runner" />
        <meta name="dcterms.date" content="2025-04-08 13:44:52.688" />
        <title>commit</title>
        <style type="text/css">
            code {
                white-space: pre-wrap;
            }
            span.smallcaps {
                font-variant: small-caps;
            }
            span.underline {
                text-decoration: underline;
            }
            div.column {
                display: inline-block;
                vertical-align: top;
                width: 50%;
            }
        </style>
        <style type="text/css">
            a.sourceLine {
                display: inline-block;
                line-height: 1.25;
            }
            a.sourceLine {
                pointer-events: none;
                color: inherit;
                text-decoration: inherit;
            }
            a.sourceLine:empty {
                height: 1.2em;
            }
            .sourceCode {
                overflow: visible;
            }
            code.sourceCode {
                white-space: pre;
                position: relative;
            }
            div.sourceCode {
                margin: 1em 0;
            }
            pre.sourceCode {
                margin: 0;
            }
            @media screen {
                div.sourceCode {
                    overflow: auto;
                }
            }
            @media print {
                code.sourceCode {
                    white-space: pre-wrap;
                }
                a.sourceLine {
                    text-indent: -1em;
                    padding-left: 1em;
                }
            }
            pre.numberSource a.sourceLine {
                position: relative;
                left: -4em;
            }
            pre.numberSource a.sourceLine::before {
                content: attr(title);
                position: relative;
                left: -1em;
                text-align: right;
                vertical-align: baseline;
                border: none;
                pointer-events: all;
                display: inline-block;
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -khtml-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
                padding: 0 4px;
                width: 4em;
                background-color: #ffffff;
                color: #a0a0a0;
            }
            pre.numberSource {
                margin-left: 3em;
                border-left: 1px solid #a0a0a0;
                padding-left: 4px;
            }
            div.sourceCode {
                color: #1f1c1b;
                background-color: #ffffff;
            }
            @media screen {
                a.sourceLine::before {
                    text-decoration: underline;
                }
            }
            code span {
                color: #1f1c1b;
            } /* Normal */
            code span.al {
                color: #bf0303;
                background-color: #f7e6e6;
                font-weight: bold;
            } /* Alert */
            code span.an {
                color: #ca60ca;
            } /* Annotation */
            code span.at {
                color: #0057ae;
            } /* Attribute */
            code span.bn {
                color: #b08000;
            } /* BaseN */
            code span.bu {
                color: #644a9b;
                font-weight: bold;
            } /* BuiltIn */
            code span.cf {
                color: #1f1c1b;
                font-weight: bold;
            } /* ControlFlow */
            code span.ch {
                color: #924c9d;
            } /* Char */
            code span.cn {
                color: #aa5500;
            } /* Constant */
            code span.co {
                color: #898887;
            } /* Comment */
            code span.cv {
                color: #0095ff;
            } /* CommentVar */
            code span.do {
                color: #607880;
            } /* Documentation */
            code span.dt {
                color: #0057ae;
            } /* DataType */
            code span.dv {
                color: #b08000;
            } /* DecVal */
            code span.er {
                color: #bf0303;
                text-decoration: underline;
            } /* Error */
            code span.ex {
                color: #0095ff;
                font-weight: bold;
            } /* Extension */
            code span.fl {
                color: #b08000;
            } /* Float */
            code span.fu {
                color: #644a9b;
            } /* Function */
            code span.im {
                color: #ff5500;
            } /* Import */
            code span.in {
                color: #b08000;
            } /* Information */
            code span.kw {
                color: #1f1c1b;
                font-weight: bold;
            } /* Keyword */
            code span.op {
                color: #1f1c1b;
            } /* Operator */
            code span.ot {
                color: #006e28;
            } /* Other */
            code span.pp {
                color: #006e28;
            } /* Preprocessor */
            code span.re {
                color: #0057ae;
                background-color: #e0e9f8;
            } /* RegionMarker */
            code span.sc {
                color: #3daee9;
            } /* SpecialChar */
            code span.ss {
                color: #ff5500;
            } /* SpecialString */
            code span.st {
                color: #bf0303;
            } /* String */
            code span.va {
                color: #0057ae;
            } /* Variable */
            code span.vs {
                color: #bf0303;
            } /* VerbatimString */
            code span.wa {
                color: #bf0303;
            } /* Warning */
        </style>
        <!--
  Firefox non carica font da locale quindi il font puÃ² non essere visibile
  quando di carica la pagina da locale.
  Bisogna impostare about:config
    security.fileuri.strict_origin_policy = false
  -->
        <link rel="stylesheet" href="../../../../../inc/css/katex.min.css" />
        <link rel="stylesheet" href="../../../../../inc/css/fonts/google_fonts.css" />
        <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous"> -->
        <link rel="stylesheet" href="../../../../../inc/css/bootstrap.min.css" />
        <link rel="stylesheet" href="../../../../../inc/css/cdp.css" />
        <!--[if lt IE 9]>
            <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
        <![endif]-->
        <meta name="keywords" content="Appunti,Note" />
        <meta name="description" content="Appunti di runner" />
        <link rel="icon" type="image/x-icon" href="../../../../../inc/img/favicon.ico" />
        <link rel="shortcut icon" type="image/x-icon" href="../../../../../inc/img/favicon.ico" />

        <link rel="stylesheet" href="../../../../../inc/js/hljs/styles/default.css" />
        <script src="../../../../../inc/js/hljs/lib/highlight.js"></script>
        <script src="../../../../../inc/js/bootstrap/bootstrap.bundle.min.js"></script>
        <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script> -->
        <script>
            hljs.initHighlightingOnLoad();
        </script>
        <script type="module">
            import mermaid from '../../../../../inc/js/mermaid/dist/mermaid.esm.min.mjs';
            // import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
            mermaid.initialize({ startOnLoad: true });
        </script>
    </head>
    <body></body>
</html>
<h1 id="commit" tabindex="-1">commit <a class="header-anchor" href="#commit" aria-hidden="true">ðŸ”—</a></h1>
<p class="code">2025-04-08 13:44:52.688</p>
<nav class="table-of-contents"><ol><li><a href="#title%3A-%22commit%22description%3A-%22the-commit-command-description-and-usage%22keywords%3A-%22commit%2C-file%2C-changes%22">title: &quot;commit&quot;description: &quot;The commit command description and usage&quot;keywords: &quot;commit, file, changes&quot; </a></li><li><a href="#description">Description </a></li><li><a href="#examples">Examples </a><ol><li><a href="#commit-a-container">Commit a container </a></li><li><a href="#commit-a-container-with-new-configurations">Commit a container with new configurations </a></li><li><a href="#commit-a-container-with-new-cmd-and-expose-instructions">Commit a container with new CMD and EXPOSE instructions </a></li></ol></li></ol></nav><hr>
<h2 id="title%3A-%22commit%22description%3A-%22the-commit-command-description-and-usage%22keywords%3A-%22commit%2C-file%2C-changes%22" tabindex="-1">title: &quot;commit&quot;
description: &quot;The commit command description and usage&quot;
keywords: &quot;commit, file, changes&quot; <a class="header-anchor" href="#title%3A-%22commit%22description%3A-%22the-commit-command-description-and-usage%22keywords%3A-%22commit%2C-file%2C-changes%22" aria-hidden="true">ðŸ”—</a></h2>
<h1 id="commit-1" tabindex="-1">commit <a class="header-anchor" href="#commit-1" aria-hidden="true">ðŸ”—</a></h1>
<pre><code class="language-markdown">Usage:  docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]

Create a new image from a container&#x27;s changes

Options:
  -a, --author string    Author (e.g., &quot;John Hannibal Smith <span class="language-xml">&lt;hannibal@a-team.com&gt;</span>&quot;)
  -c, --change value     Apply Dockerfile instruction to the created image (default [])
<span class="hljs-code">      --help             Print usage
  -m, --message string   Commit message
  -p, --pause            Pause container during commit (default true)
</span></code></pre>
<h2 id="description" tabindex="-1">Description <a class="header-anchor" href="#description" aria-hidden="true">ðŸ”—</a></h2>
<p>It can be useful to commit a container's file changes or settings into a new
image. This allows you to debug a container by running an interactive shell, or to
export a working dataset to another server. Generally, it is better to use
Dockerfiles to manage your images in a documented and maintainable way.
<a href="tag.html">Read more about valid image names and tags</a>.</p>
<p>The commit operation will not include any data contained in
volumes mounted inside the container.</p>
<p>By default, the container being committed and its processes will be paused
while the image is committed. This reduces the likelihood of encountering data
corruption during the process of creating the commit.  If this behavior is
undesired, set the <code>--pause</code> option to false.</p>
<p>The <code>--change</code> option will apply <code>Dockerfile</code> instructions to the image that is
created.  Supported <code>Dockerfile</code> instructions:
<code>CMD</code>|<code>ENTRYPOINT</code>|<code>ENV</code>|<code>EXPOSE</code>|<code>LABEL</code>|<code>ONBUILD</code>|<code>USER</code>|<code>VOLUME</code>|<code>WORKDIR</code></p>
<h2 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-hidden="true">ðŸ”—</a></h2>
<h3 id="commit-a-container" tabindex="-1">Commit a container <a class="header-anchor" href="#commit-a-container" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-console"><span class="hljs-meta prompt_">$ </span><span class="language-bash">docker ps</span>

CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS              NAMES
c3f279d17e0a        ubuntu:12.04        /bin/bash           7 days ago          Up 25 hours                            desperate_dubinsky
197387f1b436        ubuntu:12.04        /bin/bash           7 days ago          Up 25 hours                            focused_hamilton
<span class="hljs-meta prompt_">
$ </span><span class="language-bash">docker commit c3f279d17e0a  svendowideit/testimage:version3</span>

f5283438590d
<span class="hljs-meta prompt_">
$ </span><span class="language-bash">docker images</span>

REPOSITORY                        TAG                 ID                  CREATED             SIZE
svendowideit/testimage            version3            f5283438590d        16 seconds ago      335.7 MB
</code></pre>
<h3 id="commit-a-container-with-new-configurations" tabindex="-1">Commit a container with new configurations <a class="header-anchor" href="#commit-a-container-with-new-configurations" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-console"><span class="hljs-meta prompt_">$ </span><span class="language-bash">docker ps</span>

CONTAINER ID       IMAGE               COMMAND             CREATED             STATUS              PORTS              NAMES
c3f279d17e0a        ubuntu:12.04        /bin/bash           7 days ago          Up 25 hours                            desperate_dubinsky
197387f1b436        ubuntu:12.04        /bin/bash           7 days ago          Up 25 hours                            focused_hamilton
<span class="hljs-meta prompt_">
$ </span><span class="language-bash">docker inspect -f <span class="hljs-string">&quot;{{ .Config.Env }}&quot;</span> c3f279d17e0a</span>

[HOME=/ PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin]
<span class="hljs-meta prompt_">
$ </span><span class="language-bash">docker commit --change <span class="hljs-string">&quot;ENV DEBUG=true&quot;</span> c3f279d17e0a  svendowideit/testimage:version3</span>

f5283438590d
<span class="hljs-meta prompt_">
$ </span><span class="language-bash">docker inspect -f <span class="hljs-string">&quot;{{ .Config.Env }}&quot;</span> f5283438590d</span>

[HOME=/ PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin DEBUG=true]
</code></pre>
<h3 id="commit-a-container-with-new-cmd-and-expose-instructions" tabindex="-1">Commit a container with new <code>CMD</code> and <code>EXPOSE</code> instructions <a class="header-anchor" href="#commit-a-container-with-new-cmd-and-expose-instructions" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-console"><span class="hljs-meta prompt_">$ </span><span class="language-bash">docker ps</span>

CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS              NAMES
c3f279d17e0a        ubuntu:12.04        /bin/bash           7 days ago          Up 25 hours                            desperate_dubinsky
197387f1b436        ubuntu:12.04        /bin/bash           7 days ago          Up 25 hours                            focused_hamilton
<span class="hljs-meta prompt_">
$ </span><span class="language-bash">docker commit --change=<span class="hljs-string">&#x27;CMD [&quot;apachectl&quot;, &quot;-DFOREGROUND&quot;]&#x27;</span> -c <span class="hljs-string">&quot;EXPOSE 80&quot;</span> c3f279d17e0a  svendowideit/testimage:version4</span>

f5283438590d
<span class="hljs-meta prompt_">
$ </span><span class="language-bash">docker run -d svendowideit/testimage:version4</span>

89373736e2e7f00bc149bd783073ac43d0507da250e999f3f1036e0db60817c0
<span class="hljs-meta prompt_">
$ </span><span class="language-bash">docker ps</span>

CONTAINER ID        IMAGE               COMMAND                 CREATED             STATUS              PORTS              NAMES
89373736e2e7        testimage:version4  &quot;apachectl -DFOREGROU&quot;  3 seconds ago       Up 2 seconds        80/tcp             distracted_fermat
c3f279d17e0a        ubuntu:12.04        /bin/bash               7 days ago          Up 25 hours                            desperate_dubinsky
197387f1b436        ubuntu:12.04        /bin/bash               7 days ago          Up 25 hours                            focused_hamilton
</code></pre>
</body></html>