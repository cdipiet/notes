<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
    <head>
        <meta charset="utf-8" />
        <meta name="generator" content="markdown-it" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
        <meta name="author" content="runner" />
        <meta name="dcterms.date" content="2025-04-08 13:44:53.256" />
        <title>processi</title>
        <style type="text/css">
            code {
                white-space: pre-wrap;
            }
            span.smallcaps {
                font-variant: small-caps;
            }
            span.underline {
                text-decoration: underline;
            }
            div.column {
                display: inline-block;
                vertical-align: top;
                width: 50%;
            }
        </style>
        <style type="text/css">
            a.sourceLine {
                display: inline-block;
                line-height: 1.25;
            }
            a.sourceLine {
                pointer-events: none;
                color: inherit;
                text-decoration: inherit;
            }
            a.sourceLine:empty {
                height: 1.2em;
            }
            .sourceCode {
                overflow: visible;
            }
            code.sourceCode {
                white-space: pre;
                position: relative;
            }
            div.sourceCode {
                margin: 1em 0;
            }
            pre.sourceCode {
                margin: 0;
            }
            @media screen {
                div.sourceCode {
                    overflow: auto;
                }
            }
            @media print {
                code.sourceCode {
                    white-space: pre-wrap;
                }
                a.sourceLine {
                    text-indent: -1em;
                    padding-left: 1em;
                }
            }
            pre.numberSource a.sourceLine {
                position: relative;
                left: -4em;
            }
            pre.numberSource a.sourceLine::before {
                content: attr(title);
                position: relative;
                left: -1em;
                text-align: right;
                vertical-align: baseline;
                border: none;
                pointer-events: all;
                display: inline-block;
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -khtml-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
                padding: 0 4px;
                width: 4em;
                background-color: #ffffff;
                color: #a0a0a0;
            }
            pre.numberSource {
                margin-left: 3em;
                border-left: 1px solid #a0a0a0;
                padding-left: 4px;
            }
            div.sourceCode {
                color: #1f1c1b;
                background-color: #ffffff;
            }
            @media screen {
                a.sourceLine::before {
                    text-decoration: underline;
                }
            }
            code span {
                color: #1f1c1b;
            } /* Normal */
            code span.al {
                color: #bf0303;
                background-color: #f7e6e6;
                font-weight: bold;
            } /* Alert */
            code span.an {
                color: #ca60ca;
            } /* Annotation */
            code span.at {
                color: #0057ae;
            } /* Attribute */
            code span.bn {
                color: #b08000;
            } /* BaseN */
            code span.bu {
                color: #644a9b;
                font-weight: bold;
            } /* BuiltIn */
            code span.cf {
                color: #1f1c1b;
                font-weight: bold;
            } /* ControlFlow */
            code span.ch {
                color: #924c9d;
            } /* Char */
            code span.cn {
                color: #aa5500;
            } /* Constant */
            code span.co {
                color: #898887;
            } /* Comment */
            code span.cv {
                color: #0095ff;
            } /* CommentVar */
            code span.do {
                color: #607880;
            } /* Documentation */
            code span.dt {
                color: #0057ae;
            } /* DataType */
            code span.dv {
                color: #b08000;
            } /* DecVal */
            code span.er {
                color: #bf0303;
                text-decoration: underline;
            } /* Error */
            code span.ex {
                color: #0095ff;
                font-weight: bold;
            } /* Extension */
            code span.fl {
                color: #b08000;
            } /* Float */
            code span.fu {
                color: #644a9b;
            } /* Function */
            code span.im {
                color: #ff5500;
            } /* Import */
            code span.in {
                color: #b08000;
            } /* Information */
            code span.kw {
                color: #1f1c1b;
                font-weight: bold;
            } /* Keyword */
            code span.op {
                color: #1f1c1b;
            } /* Operator */
            code span.ot {
                color: #006e28;
            } /* Other */
            code span.pp {
                color: #006e28;
            } /* Preprocessor */
            code span.re {
                color: #0057ae;
                background-color: #e0e9f8;
            } /* RegionMarker */
            code span.sc {
                color: #3daee9;
            } /* SpecialChar */
            code span.ss {
                color: #ff5500;
            } /* SpecialString */
            code span.st {
                color: #bf0303;
            } /* String */
            code span.va {
                color: #0057ae;
            } /* Variable */
            code span.vs {
                color: #bf0303;
            } /* VerbatimString */
            code span.wa {
                color: #bf0303;
            } /* Warning */
        </style>
        <!--
  Firefox non carica font da locale quindi il font puÃ² non essere visibile
  quando di carica la pagina da locale.
  Bisogna impostare about:config
    security.fileuri.strict_origin_policy = false
  -->
        <link rel="stylesheet" href="../../inc/css/katex.min.css" />
        <link rel="stylesheet" href="../../inc/css/fonts/google_fonts.css" />
        <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous"> -->
        <link rel="stylesheet" href="../../inc/css/bootstrap.min.css" />
        <link rel="stylesheet" href="../../inc/css/cdp.css" />
        <!--[if lt IE 9]>
            <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
        <![endif]-->
        <meta name="keywords" content="Appunti,Note" />
        <meta name="description" content="Appunti di runner" />
        <link rel="icon" type="image/x-icon" href="../../inc/img/favicon.ico" />
        <link rel="shortcut icon" type="image/x-icon" href="../../inc/img/favicon.ico" />

        <link rel="stylesheet" href="../../inc/js/hljs/styles/default.css" />
        <script src="../../inc/js/hljs/lib/highlight.js"></script>
        <script src="../../inc/js/bootstrap/bootstrap.bundle.min.js"></script>
        <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script> -->
        <script>
            hljs.initHighlightingOnLoad();
        </script>
        <script type="module">
            import mermaid from '../../inc/js/mermaid/dist/mermaid.esm.min.mjs';
            // import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
            mermaid.initialize({ startOnLoad: true });
        </script>
    </head>
    <body></body>
</html>
<h1 id="processi" tabindex="-1">processi <a class="header-anchor" href="#processi" aria-hidden="true">ðŸ”—</a></h1>
<p class="code">2025-04-08 13:44:53.256</p>
<nav class="table-of-contents"><ol><li><a href="#scoprire-il-processo-di-una-finestra">Scoprire il processo di una finestra </a></li><li><a href="#comandi-relativi-ai-processi">Comandi relativi ai processi </a></li><li><a href="#unix-job-control-command-list">Unix job control command list </a></li><li><a href="#how-do-i-put-an-already-running-process-under-nohup">How do I put an already running process under nohup </a><ol><li><a href="#using-the-job-control-of-bash-to-send-the-process-into-the-background%3A">Using the Job Control of bash to send the process into the background: </a></li></ol></li><li><a href="#understanding-process-trees">Understanding Process Trees </a><ol><li><a href="#esempio-di-analisi-di-un-processo">Esempio di analisi di un processo </a></li></ol></li><li><a href="#nohup%3A-lanciare-un-comando-scollegandolo-dal-processo-del-terminale-che-lo-ha-lanciato%2C-ed-agganciandolo-ad-init">nohup: lanciare un comando scollegandolo dal processo del terminale che lo ha lanciato, ed agganciandolo ad init </a></li><li><a href="#disown%3A-scollegare-in-seguito-un-processo-dal-terminale-dal-quale-%C3%A8-stato-lanciato">disown: scollegare in seguito un processo dal terminale dal quale Ã¨ stato lanciato </a><ol><li><a href="#how-do-i-find-more-information-on-disown%3F">HOW DO I FIND MORE INFORMATION ON DISOWN? </a></li></ol></li></ol></nav><h1 id="processi-1" tabindex="-1">Processi <a class="header-anchor" href="#processi-1" aria-hidden="true">ðŸ”—</a></h1>
<ul>
<li><a href="https://www.gnu.org/software/coreutils/manual/html_node/index.html">https://www.gnu.org/software/coreutils/manual/html_node/index.html</a></li>
</ul>
<h2 id="scoprire-il-processo-di-una-finestra" tabindex="-1">Scoprire il processo di una finestra <a class="header-anchor" href="#scoprire-il-processo-di-una-finestra" aria-hidden="true">ðŸ”—</a></h2>
<pre><code class="language-bash"><span class="hljs-comment"># Per conoscere il processo di una finestra</span>
<span class="hljs-built_in">alias</span> winproc=<span class="hljs-string">&#x27;xprop _NET_WM_PID | sed &#x27;</span>\&#x27;<span class="hljs-string">&#x27;s/_NET_WM_PID(CARDINAL) = //&#x27;</span>\&#x27;<span class="hljs-string">&#x27; | xargs ps -fp&#x27;</span>

$ xprop _NET_WM_PID | sed <span class="hljs-string">&#x27;s/_NET_WM_PID(CARDINAL) = //&#x27;</span> | ps `<span class="hljs-built_in">cat</span>`
    PID TTY      STAT   TIME COMMAND
  51526 ?        SLsl   0:04 /opt/visual-studio-code/code
$ xprop _NET_WM_PID | sed <span class="hljs-string">&#x27;s/_NET_WM_PID(CARDINAL) = //&#x27;</span> | xargs ps -fp
UID          PID    PPID  C STIME TTY          TIME CMD
    51526    4988  0 18:46 ?        00:00:04 /opt/visual-studio-code/code
</code></pre>
<h2 id="comandi-relativi-ai-processi" tabindex="-1">Comandi relativi ai processi <a class="header-anchor" href="#comandi-relativi-ai-processi" aria-hidden="true">ðŸ”—</a></h2>
<pre><code class="language-bash">$ procenv --environment | <span class="hljs-built_in">wc</span> -l
$ procenv | <span class="hljs-built_in">wc</span> -l
man proc

ps -auxefw <span class="hljs-comment"># Extensive list of all running process</span>
<span class="hljs-built_in">uptime</span>     <span class="hljs-comment"># Da quanto tempo e&#x27; acceso il computer</span>
ksystemlog <span class="hljs-comment"># Per vedere i file di log</span>
</code></pre>
<h2 id="unix-job-control-command-list" tabindex="-1">Unix job control command list <a class="header-anchor" href="#unix-job-control-command-list" aria-hidden="true">ðŸ”—</a></h2>
<p>The following table lists the basic Unix job control commands:</p>
<table class="table"><thead>
<tr>
<th style="text-align:left">Command</th>
<th style="text-align:left">Explanation</th>
<th style="text-align:left">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>&amp;</code></td>
<td style="text-align:left">Run the command in the background</td>
<td style="text-align:left"><code>% long_cmd &amp;</code></td>
</tr>
<tr>
<td style="text-align:left"><code>Ctrl-z</code></td>
<td style="text-align:left">Stop the foreground process</td>
<td style="text-align:left"><code>[Ctrl-z] Stopped</code></td>
</tr>
<tr>
<td style="text-align:left"><code>jobs</code></td>
<td style="text-align:left">jobs List background processes</td>
<td style="text-align:left"><code>% jobs</code></td>
</tr>
<tr>
<td style="text-align:left"><code>%n</code></td>
<td style="text-align:left">Refers to the background number n</td>
<td style="text-align:left"><code>% fg %1</code></td>
</tr>
<tr>
<td style="text-align:left"><code>%?str</code></td>
<td style="text-align:left">Refers to the background job containing str</td>
<td style="text-align:left"><code>% fg %?ls</code></td>
</tr>
<tr>
<td style="text-align:left"><code>bg</code></td>
<td style="text-align:left">Restart a stopped background process</td>
<td style="text-align:left"><code>% bg</code></td>
</tr>
<tr>
<td style="text-align:left"><code>fg</code></td>
<td style="text-align:left">Bring a background process to the foreground</td>
<td style="text-align:left"><code>% fg %1</code></td>
</tr>
<tr>
<td style="text-align:left"><code>kill</code></td>
<td style="text-align:left">Kill a process</td>
<td style="text-align:left"><code>% kill %2</code></td>
</tr>
<tr>
<td style="text-align:left"><code>~ Ctrl-z</code></td>
<td style="text-align:left">Suspend an rlogin or ssh session host2</td>
<td style="text-align:left"><code>&gt;~[Ctrl-z]</code></td>
</tr>
<tr>
<td style="text-align:left"><code>~~ Ctrl-z</code></td>
<td style="text-align:left">Suspend a second level rlogin or ssh session host3</td>
<td style="text-align:left"><code>&gt;~~[Ctrl-z]</code></td>
</tr>
</tbody>
</table>
<h2 id="how-do-i-put-an-already-running-process-under-nohup" tabindex="-1">How do I put an already running process under nohup <a class="header-anchor" href="#how-do-i-put-an-already-running-process-under-nohup" aria-hidden="true">ðŸ”—</a></h2>
<p><code>nohup</code> va bene quando sÃ² giÃ  da prima di lanciare il processo, che vorrÃ² chiudere la shell senza uccidere anche il processo.
Utile per esempio se lancio comandi la cui esecuzione dura molto da ssh, grazie a nohup
potrÃ² chiudere la shell ssh e vedere il risultato il giorno dopo:</p>
<pre><code class="language-bash">    <span class="hljs-built_in">nohup</span> find / -xdev -<span class="hljs-built_in">type</span> f -perm +u=s -<span class="hljs-built_in">print</span> &gt;out.txt &amp;
</code></pre>
<p>Se invece vogliamo impedire che il processo venga distrutto uscendo dalla shell, quando il processo Ã¨ giÃ  stato lanciato:</p>
<h3 id="using-the-job-control-of-bash-to-send-the-process-into-the-background%3A" tabindex="-1">Using the Job Control of bash to send the process into the background: <a class="header-anchor" href="#using-the-job-control-of-bash-to-send-the-process-into-the-background%3A" aria-hidden="true">ðŸ”—</a></h3>
<ul>
<li><code>ctrl+z</code> to stop (pause) the program and get back to the shell</li>
<li><code>bg</code> to run it in the background</li>
<li><code>disown -h [job-spec]</code> where [job-spec] is the job number (like <code>%1</code> for the first running job; find about your number with the jobscommand) so that the job isn't killed when the terminal closes</li>
</ul>
<h2 id="understanding-process-trees" tabindex="-1">Understanding Process Trees <a class="header-anchor" href="#understanding-process-trees" aria-hidden="true">ðŸ”—</a></h2>
<p>Starting a job at a Unix Command prompt will cause that job to be attached to the shell that started the job.
If that shell is terminated, the job(s) that were started under it will be terminated as well.
This is caused by the fact that when a UNIX process ends all the processes contained
within that processes' process tree are also terminated</p>
<h3 id="esempio-di-analisi-di-un-processo" tabindex="-1">Esempio di analisi di un processo <a class="header-anchor" href="#esempio-di-analisi-di-un-processo" aria-hidden="true">ðŸ”—</a></h3>
<p>At Terminal A</p>
<hr>
<pre><code class="language-bash">laptop% <span class="hljs-built_in">alias</span> monkey
monkey=<span class="hljs-string">&#x27;~/opt/SqlMonkey/SqlMonkey/bin/SqlMonkey.sh&#x27;</span>
laptop% monkey
</code></pre>
<p>At Terminal B</p>
<hr>
<pre><code class="language-bash"><span class="hljs-comment"># ps auxwww is useful when you have a lot of data (how many columns you want)</span>
laptop% ps auxwww |grep zsh
usera 10608 0.0 0.0 5380 2456 pts/0 Ss 22:15 0:00 zsh
usera 10784 0.0 0.0 5380 2452 pts/1 Ss 22:17 0:00 zsh
usera 11217 0.0 0.0 5380 2452 pts/2 Ss+ 22:24 0:00 zsh
usera 12325 0.0 0.0 3336 804 pts/1 S+ 22:44 0:00 grep zsh
</code></pre>
<p>I happen to know that pid 10608 was the shell that I started SqlMonkey in,
if you did not know which shell it was started in you would have to investigate a bit more.</p>
<pre><code class="language-bash">laptop% pstree -A -p 10608
zsh(10608)---SqlMonkey.sh(12296)---java(12297)-+-{java}(12298)
|-{java}(12299)
|-{java}(12300)
|-{java}(12301)
|-{java}(12302)
|-{java}(12303)
|-{java}(12304)
|-{java}(12305)
|-{java}(12306)
|-{java}(12307)
|-{java}(12308)
|-{java}(12309)
|-{java}(12310)
|-{java}(12311)
|-{java}(12312)
`-{java}(12313)
</code></pre>
<p>What this shows is that zsh (pid 10608) started a program called <a href="http://SqlMonkey.sh">SqlMonkey.sh</a> (pid 12296) which started java (pid 12297) and java started up a bunch of lwp (which are NOT processes, <strong>but instead are thread</strong>s)
they show up as processes in Linux, which is merely an artifact of how Linux implements pThreadsand threading in general.</p>
<p>Returning to Terminal A</p>
<hr>
<p>Doing a <code>CRTL-Z</code> will cause the <a href="http://SqlMonkey.sh">SqlMonkey.sh</a> program to suspend.
Once a job is suspended, you can issue the <code>jobs</code> command to see all the processes attached to the shell prompt you are at:</p>
<pre><code class="language-bash">^Z
zsh: suspended ~/opt/SqlMonkey/SqlMonkey/bin/SqlMonkey.sh
laptop% <span class="hljs-built_in">jobs</span>
[1] + suspended ~/opt/SqlMonkey/SqlMonkey/bin/SqlMonkey.sh
laptop%
</code></pre>
<p>Job Number <code>1</code> is now suspended, you can't see it, but I tried to issue a sql command to the SqlMonkey, and it wouldn't let me because the SqlMonkey is suspended.</p>
<p>You can then send the job number <code>1</code> into the foreground, or background by issuing the following commands:</p>
<pre><code class="language-bash">laptop% <span class="hljs-built_in">bg</span> %1
[1] + continued ~/opt/SqlMonkey/SqlMonkey/bin/SqlMonkey.sh
laptop% <span class="hljs-built_in">fg</span> %1
[1] + running ~/opt/SqlMonkey/SqlMonkey/bin/SqlMonkey.sh
</code></pre>
<p>bg sends the job into the background. This means that the SQL command is running, but the shell will also accept other commands. fg then takes the command from running into the forground state. This means that the command is running, but the shell cannot accept any other commands.</p>
<p>The job is currently in the forground, however throwing the job into the background is quite a simple task done as follows:</p>
<pre><code class="language-bash">^Z
zsh: suspended ~/opt/SqlMonkey/SqlMonkey/bin/SqlMonkey.sh
laptop% <span class="hljs-built_in">jobs</span>
[1] + suspended ~/opt/SqlMonkey/SqlMonkey/bin/SqlMonkey.sh
laptop% <span class="hljs-built_in">bg</span> %1
[1] + continued ~/opt/SqlMonkey/SqlMonkey/bin/SqlMonkey.sh
laptop% <span class="hljs-built_in">jobs</span>
[1] + running ~/opt/SqlMonkey/SqlMonkey/bin/SqlMonkey.sh
laptop%
</code></pre>
<p>Now the SqlMonkey is running, but it is in the background, so I can issue other commands at the prompt. If I no longer need the shell that I opend, I may just issue the command <code>exit</code>.</p>
<pre><code class="language-bash">laptop% <span class="hljs-built_in">exit</span>
</code></pre>
<p><strong><code>THIS CAUSED THE SHELL to EXIT as well as SqlMonkey</code></strong></p>
<h2 id="nohup%3A-lanciare-un-comando-scollegandolo-dal-processo-del-terminale-che-lo-ha-lanciato%2C-ed-agganciandolo-ad-init" tabindex="-1"><code>nohup</code>: lanciare un comando scollegandolo dal processo del terminale che lo ha lanciato, ed agganciandolo ad init <a class="header-anchor" href="#nohup%3A-lanciare-un-comando-scollegandolo-dal-processo-del-terminale-che-lo-ha-lanciato%2C-ed-agganciandolo-ad-init" aria-hidden="true">ðŸ”—</a></h2>
<p>In questo modo Ã¨ possibile creare un processo che non morirÃ  alla chiusura del terminale dal quale Ã¨ stato lanciato</p>
<p>Now I change the alias that starts up the SqlMonkey program:</p>
<pre><code class="language-bash">laptop% <span class="hljs-built_in">alias</span> monkey
monkey=<span class="hljs-string">&#x27;nohup~/opt/SqlMonkey/SqlMonkey/bin/SqlMonkey.sh 1&gt;nohup.out 2&gt;&amp;1 &amp;&#x27;</span>
laptop% monkey
[1] 14470
laptop% <span class="hljs-built_in">jobs</span>
[1] + running <span class="hljs-built_in">nohup</span> ~/opt/SqlMonkey/SqlMonkey/bin/SqlMonkey.sh &gt; nohup.out 2&gt;&amp;1
laptop%
</code></pre>
<p>Lets first discuss how I changed things:</p>
<p><code>nohup</code> - this means <code>no hangup</code>. What it is does is prevents the sighup signal from being sent to the <a href="http://SqlMonkey.sh">SqlMonkey.sh</a> pid when the shell is terminated. (we will look a bit deeper into this)</p>
<p><code>1&gt;nohup.out</code> - this says send standard out (std.out) to the file nohup.out, and delete any existing data in the current nohup.out file</p>
<p><code>2&gt;&amp;1</code> - this says send standard err (std.err) to the same location you sent std.out (which in this example is nohup.out)</p>
<p><code>&amp;</code> - this says through the process into the background imeadiately</p>
<p>Now doing a pstree gives the following:</p>
<pre><code class="language-bash">laptop% pstree -A -p 11217
zsh(11217)---SqlMonkey.sh(14470)---java(14471)-+-{java}(14472)
|-{java}(14473)
|-{java}(14474)
|-{java}(14475)
|-{java}(14476)
|-{java}(14477)
|-{java}(14478)
|-{java}(14479)
|-{java}(14480)
|-{java}(14481)
|-{java}(14482)
|-{java}(14483)
|-{java}(14484)
|-{java}(14485)
|-{java}(14486)
`-{java}(14487)
</code></pre>
<p>This looks pretty much the same as the situation above where we did not use nohup, and we did not use <code>&amp;</code> to through the process into the background. However, now lets see what happens to the SqlMonkey program when we exit the Shell program that started it up.</p>
<pre><code class="language-bash">laptop% <span class="hljs-built_in">jobs</span>
[1] + running <span class="hljs-built_in">nohup</span> ~/opt/SqlMonkey/SqlMonkey/bin/SqlMonkey.sh &gt; nohup.out 2&gt;&amp;1
laptop% <span class="hljs-built_in">exit</span>
</code></pre>
<pre><code class="language-bash">laptop% pstree -A -p 1
init(1)-+-NetworkManager(3455)-+-dhclient(3809)
| `-{NetworkManager}(3810)
|-SqlMonkey.sh(14470)---java(14471)-+-{java}(14472)
| |-{java}(14473)
| |-{java}(14474)
| |-{java}(14475)
| |-{java}(14476)
| |-{java}(14477)
| |-{java}(14478)
| |-{java}(14479)
| |-{java}(14480)
| |-{java}(14481)
| |-{java}(14482)
| |-{java}(14483)
| |-{java}(14484)
| |-{java}(14485)
| |-{java}(14486)
| `-{java}(14487)
</code></pre>
<p>You can now see that <strong><code>the SqlMonkey program is attached to a very special unix process call process 1, or the init process</code></strong>.
When the init process dies, the UNIX system goes halts.</p>
<h2 id="disown%3A-scollegare-in-seguito-un-processo-dal-terminale-dal-quale-%C3%A8-stato-lanciato" tabindex="-1"><code>disown</code>: scollegare in seguito un processo dal terminale dal quale Ã¨ stato lanciato <a class="header-anchor" href="#disown%3A-scollegare-in-seguito-un-processo-dal-terminale-dal-quale-%C3%A8-stato-lanciato" aria-hidden="true">ðŸ”—</a></h2>
<p>HELP! I started a long running application and forgot to nohup it.
Like really it was our production corporate trading application! And I want to go home!</p>
<p>Bash and zsh have just the command for you!</p>
<p>Remember that <strong>what you want to do is to make sure the when your shell exits, you don't send the hangup <code>SIGHUP</code> to the long running application</strong>. That can be accomplished with a built in bash/zsh command called <code>disown</code>, it works as follows:</p>
<p>First through the process into the background, so that it is in a running state:</p>
<pre><code class="language-bash">^Z
zsh: suspended ~/opt/SqlMonkey/SqlMonkey/bin/SqlMonkey.sh
balcock-laptop% <span class="hljs-built_in">jobs</span>
[1] + suspended ~/opt/SqlMonkey/SqlMonkey/bin/SqlMonkey.sh
balcock-laptop% <span class="hljs-built_in">bg</span> %1
[1] + continued ~/opt/SqlMonkey/SqlMonkey/bin/SqlMonkey.sh
balcock-laptop%
</code></pre>
<p>Now <code>disown</code> the command!</p>
<pre><code class="language-bash">laptop% <span class="hljs-built_in">disown</span> %1
</code></pre>
<p>Now issuing a pstree will show you that SqlMonkey is nolonger attached to your shell.</p>
<pre><code class="language-bash">laptop% pstree -A -p 1

init(1)-+-NetworkManager(3455)-+-dhclient(3809)
| `-{NetworkManager}(3810)
|-SqlMonkey.sh(14470)---java(14471)-+-{java}(14472)
| |-{java}(14473)
| |-{java}(14474)
</code></pre>
<p>There are a few options that you can send to disown,</p>
<ul>
<li><code>a</code> disown all jobs (you don't need to specify a job number e.g. %1)</li>
<li><code>h</code> make disown behave more like nohup (i.e. the jobs will stay in your current shell's process tree until you exit your shell) This allows you to see all the jobs that this shell started.</li>
<li><code>r</code> only disown running jobs. All jobs in a suspended state will not be disowned.</li>
</ul>
<h3 id="how-do-i-find-more-information-on-disown%3F" tabindex="-1">HOW DO I FIND MORE INFORMATION ON DISOWN? <a class="header-anchor" href="#how-do-i-find-more-information-on-disown%3F" aria-hidden="true">ðŸ”—</a></h3>
<p>type <code>man bash</code> and searh for disown. Below is what you should find:</p>
<p><code>disown [-ar] [-h] [jobspec ...]</code></p>
<p>Without options, each jobspec is removed from the table of
active jobs. If the <code>-h</code> option is given, each jobspec is not
removed from the table, but is marked so that <code>SIGHUP</code> is not sent
to the job if the shell receives a <code>SIGHUP</code>. If no jobspec is
present, and neither the <code>-a</code> nor the <code>-r</code> option is supplied, the
current job is used. If no jobspec is supplied, the <code>-a</code> option
means to remove or mark all jobs; the <code>-r</code> option without a job?
spec argument restricts operation to running jobs. The return
value is <code>0</code> unless a jobspec does not specify a valid job.</p>
</body></html>