<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
    <head>
        <meta charset="utf-8" />
        <meta name="generator" content="markdown-it" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
        <meta name="author" content="runner" />
        <meta name="dcterms.date" content="2025-04-08 13:44:53.492" />
        <title>manjaro</title>
        <style type="text/css">
            code {
                white-space: pre-wrap;
            }
            span.smallcaps {
                font-variant: small-caps;
            }
            span.underline {
                text-decoration: underline;
            }
            div.column {
                display: inline-block;
                vertical-align: top;
                width: 50%;
            }
        </style>
        <style type="text/css">
            a.sourceLine {
                display: inline-block;
                line-height: 1.25;
            }
            a.sourceLine {
                pointer-events: none;
                color: inherit;
                text-decoration: inherit;
            }
            a.sourceLine:empty {
                height: 1.2em;
            }
            .sourceCode {
                overflow: visible;
            }
            code.sourceCode {
                white-space: pre;
                position: relative;
            }
            div.sourceCode {
                margin: 1em 0;
            }
            pre.sourceCode {
                margin: 0;
            }
            @media screen {
                div.sourceCode {
                    overflow: auto;
                }
            }
            @media print {
                code.sourceCode {
                    white-space: pre-wrap;
                }
                a.sourceLine {
                    text-indent: -1em;
                    padding-left: 1em;
                }
            }
            pre.numberSource a.sourceLine {
                position: relative;
                left: -4em;
            }
            pre.numberSource a.sourceLine::before {
                content: attr(title);
                position: relative;
                left: -1em;
                text-align: right;
                vertical-align: baseline;
                border: none;
                pointer-events: all;
                display: inline-block;
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -khtml-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
                padding: 0 4px;
                width: 4em;
                background-color: #ffffff;
                color: #a0a0a0;
            }
            pre.numberSource {
                margin-left: 3em;
                border-left: 1px solid #a0a0a0;
                padding-left: 4px;
            }
            div.sourceCode {
                color: #1f1c1b;
                background-color: #ffffff;
            }
            @media screen {
                a.sourceLine::before {
                    text-decoration: underline;
                }
            }
            code span {
                color: #1f1c1b;
            } /* Normal */
            code span.al {
                color: #bf0303;
                background-color: #f7e6e6;
                font-weight: bold;
            } /* Alert */
            code span.an {
                color: #ca60ca;
            } /* Annotation */
            code span.at {
                color: #0057ae;
            } /* Attribute */
            code span.bn {
                color: #b08000;
            } /* BaseN */
            code span.bu {
                color: #644a9b;
                font-weight: bold;
            } /* BuiltIn */
            code span.cf {
                color: #1f1c1b;
                font-weight: bold;
            } /* ControlFlow */
            code span.ch {
                color: #924c9d;
            } /* Char */
            code span.cn {
                color: #aa5500;
            } /* Constant */
            code span.co {
                color: #898887;
            } /* Comment */
            code span.cv {
                color: #0095ff;
            } /* CommentVar */
            code span.do {
                color: #607880;
            } /* Documentation */
            code span.dt {
                color: #0057ae;
            } /* DataType */
            code span.dv {
                color: #b08000;
            } /* DecVal */
            code span.er {
                color: #bf0303;
                text-decoration: underline;
            } /* Error */
            code span.ex {
                color: #0095ff;
                font-weight: bold;
            } /* Extension */
            code span.fl {
                color: #b08000;
            } /* Float */
            code span.fu {
                color: #644a9b;
            } /* Function */
            code span.im {
                color: #ff5500;
            } /* Import */
            code span.in {
                color: #b08000;
            } /* Information */
            code span.kw {
                color: #1f1c1b;
                font-weight: bold;
            } /* Keyword */
            code span.op {
                color: #1f1c1b;
            } /* Operator */
            code span.ot {
                color: #006e28;
            } /* Other */
            code span.pp {
                color: #006e28;
            } /* Preprocessor */
            code span.re {
                color: #0057ae;
                background-color: #e0e9f8;
            } /* RegionMarker */
            code span.sc {
                color: #3daee9;
            } /* SpecialChar */
            code span.ss {
                color: #ff5500;
            } /* SpecialString */
            code span.st {
                color: #bf0303;
            } /* String */
            code span.va {
                color: #0057ae;
            } /* Variable */
            code span.vs {
                color: #bf0303;
            } /* VerbatimString */
            code span.wa {
                color: #bf0303;
            } /* Warning */
        </style>
        <!--
  Firefox non carica font da locale quindi il font puÃ² non essere visibile
  quando di carica la pagina da locale.
  Bisogna impostare about:config
    security.fileuri.strict_origin_policy = false
  -->
        <link rel="stylesheet" href="../../../inc/css/katex.min.css" />
        <link rel="stylesheet" href="../../../inc/css/fonts/google_fonts.css" />
        <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous"> -->
        <link rel="stylesheet" href="../../../inc/css/bootstrap.min.css" />
        <link rel="stylesheet" href="../../../inc/css/cdp.css" />
        <!--[if lt IE 9]>
            <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
        <![endif]-->
        <meta name="keywords" content="Appunti,Note" />
        <meta name="description" content="Appunti di runner" />
        <link rel="icon" type="image/x-icon" href="../../../inc/img/favicon.ico" />
        <link rel="shortcut icon" type="image/x-icon" href="../../../inc/img/favicon.ico" />

        <link rel="stylesheet" href="../../../inc/js/hljs/styles/default.css" />
        <script src="../../../inc/js/hljs/lib/highlight.js"></script>
        <script src="../../../inc/js/bootstrap/bootstrap.bundle.min.js"></script>
        <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script> -->
        <script>
            hljs.initHighlightingOnLoad();
        </script>
        <script type="module">
            import mermaid from '../../../inc/js/mermaid/dist/mermaid.esm.min.mjs';
            // import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
            mermaid.initialize({ startOnLoad: true });
        </script>
    </head>
    <body></body>
</html>
<h1 id="manjaro" tabindex="-1">manjaro <a class="header-anchor" href="#manjaro" aria-hidden="true">ðŸ”—</a></h1>
<p class="code">2025-04-08 13:44:53.492</p>
<nav class="table-of-contents"><ol><li><a href="#partizioni">Partizioni </a></li><li><a href="#iso-to-usb">ISO to USB </a><ol><li><a href="#ventoy">Ventoy </a></li><li><a href="#manjaro-gnome">Manjaro Gnome </a></li></ol></li><li><a href="#info">Info </a><ol><li><a href="#info-sistema">Info Sistema </a><ol><li><a href="#kernel">Kernel </a></li></ol></li><li><a href="#posizione-coredump-in-manjaro">Posizione coredump in Manjaro </a></li><li><a href="#posizione-log-journal-in-manjaro">Posizione log journal in Manjaro </a></li></ol></li><li><a href="#shell---ripristinare-la-bash">Shell - ripristinare la Bash </a></li><li><a href="#pacchetti">Pacchetti </a></li><li><a href="#installazione-con-ansible-da-locale">Installazione con Ansible da locale </a><ol><li><a href="#installazione-di-ansible-e-dipendenze">Installazione di Ansible e dipendenze </a></li><li><a href="#file-di-configurazione-da-ricontrollare-prima-del-lancio">File di configurazione da ricontrollare prima del lancio </a></li><li><a href="#esecuzione-playbook">Esecuzione Playbook </a></li></ol></li><li><a href="#impostazione-dell'utenza">Impostazione dell&#39;utenza </a></li><li><a href="#ripristino-configurazione-.bash">Ripristino configurazione .bash </a></li><li><a href="#ripristino-file-system">Ripristino file system </a></li><li><a href="#ssh">SSH </a></li><li><a href="#scheda-grafica">Scheda Grafica </a><ol><li><a href="#opencl">OpenCL </a></li></ol></li><li><a href="#rete">Rete </a><ol><li><a href="#dns">DNS </a></li><li><a href="#rete-lenta-via-cavo---usare-il-driver-r8169">Rete lenta via cavo - usare il driver r8169 </a></li><li><a href="#verifica-che-il-driver-r8169-funziona">Verifica che il driver r8169 funziona </a></li></ol></li><li><a href="#attivare-fschk-su-%2F-e-%2Fhome-%3D%3D%3E-impostare-%2F-in-ro-per-il-servizio-systemd-fsck-root.service">Attivare fschk su / e /home ==&gt; impostare / in ro per il servizio systemd-fsck-root.service </a></li><li><a href="#sysrq">sysrq </a></li><li><a href="#incrementare-il-numero-di-file-controllabili-da-inotify">Incrementare il numero di file controllabili da inotify </a></li><li><a href="#gnome---sddm">Gnome - SDDM </a><ol><li><a href="#file-indexer-per-ctrl%2Bf-in-nautilus">File Indexer per CTRL+F in Nautilus </a></li><li><a href="#customizzazione%2C-tema-e-schermo">Customizzazione, Tema e Schermo </a></li><li><a href="#errore-mount-usb">Errore Mount USB </a></li></ol></li><li><a href="#mc">mc </a><ol><li><a href="#utilizzarlo-per-fare-il-cd">Utilizzarlo per fare il cd </a></li><li><a href="#sostituzione-tasto-%22canc%22%2F%22delete%22-ad-f8">Sostituzione tasto &quot;Canc&quot;/&quot;Delete&quot; ad F8 </a></li><li><a href="#disabilitare-il-tasto-f10-in-gnome-terminal">Disabilitare il tasto F10 in GNOME-Terminal </a></li></ol></li><li><a href="#preload">Preload </a></li><li><a href="#mlocate">mlocate </a><ol><li><a href="#problema">Problema </a></li><li><a href="#soluzione">Soluzione </a></li></ol></li><li><a href="#node.js-installazione-da-binari-in-manjaro">Node.js installazione da binari in Manjaro </a></li><li><a href="#python---installazione-mediante-compilazione-in-manjaro">Python - installazione mediante compilazione in Manjaro </a></li><li><a href="#visual-studio-code">Visual Studio Code </a></li><li><a href="#wine">Wine </a><ol><li><a href="#aumentare-la-qualit%C3%A0-della-grafica">Aumentare la qualitÃ  della grafica </a></li></ol></li><li><a href="#virtualbox">Virtualbox </a></li><li><a href="#chrome">Chrome </a><ol><li><a href="#chromium">Chromium </a></li></ol></li><li><a href="#servizio-systemd-backup-orario">Servizio Systemd Backup Orario </a></li><li><a href="#firewall---ufw">Firewall - UFW </a></li><li><a href="#antivirus-clamav">Antivirus ClamAV </a></li><li><a href="#samba">Samba </a><ol><li><a href="#file-system">File System </a><ol><li><a href="#bitlocker">Bitlocker </a></li></ol></li></ol></li><li><a href="#stampante">Stampante </a></li><li><a href="#sleep">Sleep </a></li><li><a href="#vim">vim </a></li><li><a href="#git">git </a></li><li><a href="#tor-browser-anonimizzatore">Tor Browser anonimizzatore </a></li><li><a href="#creare-una-iso-custom">Creare una ISO custom </a></li><li><a href="#editor-di-immagini">Editor di immagini </a></li><li><a href="#errore-di-build-hplip-plugin">Errore di build hplip-plugin </a></li></ol></nav><h1 id="installazione-manjaro-gnome3" tabindex="-1">Installazione Manjaro-Gnome3 <a class="header-anchor" href="#installazione-manjaro-gnome3" aria-hidden="true">ðŸ”—</a></h1>
<p><code>manjaro-settings-manager</code></p>
<ul>
<li><a href="https://packages.manjaro.org/">https://packages.manjaro.org/</a></li>
<li><a href="https://man.archlinux.org/">https://man.archlinux.org/</a></li>
<li><a href="https://explainshell.com/">https://explainshell.com/</a></li>
<li><a href="https://gchq.github.io/CyberChef/">https://gchq.github.io/CyberChef/</a></li>
<li><a href="https://jsonformatter.org/yaml-validator">https://jsonformatter.org/yaml-validator</a></li>
<li><a href="https://extendsclass.com/regex-tester.html#python">https://extendsclass.com/regex-tester.html#python</a></li>
<li><a href="https://regex101.com/">https://regex101.com/</a></li>
<li><a href="https://cheatography.com/davechild/cheat-sheets/regular-expressions/">https://cheatography.com/davechild/cheat-sheets/regular-expressions/</a></li>
<li><a href="../comandi/../../comandi/comandi_utili.html">Comandi Utili</a></li>
<li><a href="../../../Markdown/MarkdownItNodejs.html">Markdown</a></li>
<li><a href="./hardware.html">Info Hardware</a></li>
<li>in pamac grafico dalle preferenze abilitare il supporto ad AUR</li>
</ul>
<p>Elenco dei pacchetti da installare:</p>
<p><code>~/Documenti/workspaces/Manjaro_Install/roles/package/vars/main.yml</code></p>
<h2 id="partizioni" tabindex="-1">Partizioni <a class="header-anchor" href="#partizioni" aria-hidden="true">ðŸ”—</a></h2>
<table class="table"><thead>
<tr>
<th>Mount Point</th>
<th>type</th>
<th>size</th>
</tr>
</thead>
<tbody>
<tr>
<td>/</td>
<td>ext4</td>
<td>150 GB</td>
</tr>
<tr>
<td>/opt</td>
<td>ext4</td>
<td>1.7 TB</td>
</tr>
<tr>
<td>/home</td>
<td>ext4</td>
<td>1.9 TB</td>
</tr>
<tr>
<td>/boot/efi</td>
<td>vfat</td>
<td>300M</td>
</tr>
</tbody>
</table>
<h2 id="iso-to-usb" tabindex="-1">ISO to USB <a class="header-anchor" href="#iso-to-usb" aria-hidden="true">ðŸ”—</a></h2>
<p>Creare una penna USB bootable dall'immagine ISO di Manjaro</p>
<h3 id="ventoy" tabindex="-1">Ventoy <a class="header-anchor" href="#ventoy" aria-hidden="true">ðŸ”—</a></h3>
<ul>
<li>
<p><a href="https://ventoy.net/en/index.html">https://ventoy.net/en/index.html</a> crea un menu di boot automatico con tutte le ISO rilevate che sono state copiate nella chiavetta USB</p>
<ul>
<li>non bisogna smontare la chiavetta USB</li>
<li>inserire la chiavetta USB ed avviare/eseguire ventoy, poi copiare i .iso nella chiavetta</li>
</ul>
</li>
<li>
<p><a href="https://www.balena.io/etcher/">https://www.balena.io/etcher/</a></p>
</li>
<li>
<p><a href="https://unix.stackexchange.com/questions/508701/dd-command-oflag-direct-and-sync-flags">https://unix.stackexchange.com/questions/508701/dd-command-oflag-direct-and-sync-flags</a></p>
</li>
<li>
<p><a href="https://forum.manjaro.org/t/root-tip-how-to-use-manjaro-to-create-a-bootable-windows-usb/27797">https://forum.manjaro.org/t/root-tip-how-to-use-manjaro-to-create-a-bootable-windows-usb/27797</a></p>
</li>
<li>
<p><a href="https://gitlab.gnome.org/GNOME/gnome-multi-writer">https://gitlab.gnome.org/GNOME/gnome-multi-writer</a></p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/List_of_tools_to_create_Live_USB_systems">https://en.wikipedia.org/wiki/List_of_tools_to_create_Live_USB_systems</a></p>
</li>
<li>
<p><a href="https://wiki.syslinux.org/wiki/index.php?title=ISOLINUX">https://wiki.syslinux.org/wiki/index.php?title=ISOLINUX</a></p>
</li>
</ul>
<h3 id="manjaro-gnome" tabindex="-1">Manjaro Gnome <a class="header-anchor" href="#manjaro-gnome" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-bash"><span class="hljs-comment"># 1- Verifica dell&#x27;integritÃ  dell&#x27;immagine scaricata</span>
$ <span class="hljs-built_in">sha1sum</span> manjaro-gnome-21.0.7-210614-linux510.iso
    e49632759cc40064383420e8bafa7164ff3fa28e  manjaro-gnome-21.0.7-210614-linux510.iso
    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;e49632759cc40064383420e8bafa7164ff3fa28e manjaro-gnome-21.0.7-210614-linux510.iso&quot;</span> | <span class="hljs-built_in">sha1sum</span> -c -
<span class="hljs-comment"># 2- Verifica che l&#x27;immagine sia una isohybrid</span>
$ fdisk -l manjaro-gnome-21.0.7-210614-linux510.iso
<span class="hljs-comment"># risultando due iso di vede che Ã¨ una immagine isohybrid di syslinux: # isohybrid path/to/image.iso</span>

<span class="hljs-comment"># Identificazione della penna USB</span>
$ lsblk
$ lsblk -S
$ lsblk -f
$ <span class="hljs-built_in">df</span>
$ <span class="hljs-built_in">sudo</span> blkid

<span class="hljs-comment"># ISO to USB</span>
$ <span class="hljs-built_in">sudo</span> umount /dev/sdc1
$ <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">dd</span> bs=4M oflag=direct conv=fsync status=progress <span class="hljs-keyword">if</span>=manjaro-gnome-21.0.7-210614-linux510.iso of=/dev/sdc 
<span class="hljs-comment"># PerchÃ¨ &#x27;oflag=direct conv=fsync&#x27; invece di &#x27;oflag=sync&#x27;:</span>
<span class="hljs-comment"># https://unix.stackexchange.com/questions/508701/dd-command-oflag-direct-and-sync-flags</span>
<span class="hljs-comment"># oflag=sync effettua il sync ad ogni blocco trasferito, Ã¨ lento, si puÃ² mitigare incrementando la dimensione del blocco</span>
<span class="hljs-comment"># oflag=direct evita l&#x27;utilizzo della page cache di sistema</span>
<span class="hljs-comment"># conv=fsync effettua un solo sync al termine del trasferimento</span>

<span class="hljs-comment"># Altri tool per realizzare bootable USB da ISO(pamac invece di pacman perchÃ¨ pamac installa anche da AUR)</span>
$ <span class="hljs-built_in">sudo</span> pamac install ventoy balena-etcher gnome-multi-writer imagewriter
</code></pre>
<h2 id="info" tabindex="-1">Info <a class="header-anchor" href="#info" aria-hidden="true">ðŸ”—</a></h2>
<h3 id="info-sistema" tabindex="-1">Info Sistema <a class="header-anchor" href="#info-sistema" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-bash">$ neofetch
$ inxi -F
$ <span class="hljs-built_in">cat</span> /proc/version
$ <span class="hljs-built_in">uname</span> -a
$ lsb_release -a
$ hostnamectl
$ mhwd-kernel -li
$ lsblk
$ lsblk -S
$ lsblk -f
$ <span class="hljs-built_in">sudo</span> blkid
$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$XDG_SESSION_TYPE</span> <span class="hljs-comment"># Wayland o X11</span>
$ xdpyinfo | grep -B 2 resolution
</code></pre>
<h4 id="kernel" tabindex="-1">Kernel <a class="header-anchor" href="#kernel" aria-hidden="true">ðŸ”—</a></h4>
<ul>
<li><a href="https://wiki.manjaro.org/index.php/Manjaro_Kernels">https://wiki.manjaro.org/index.php/Manjaro_Kernels</a></li>
</ul>
<pre><code class="language-bash">$ <span class="hljs-built_in">sudo</span> pacman -Syu --needed --noconfirm linux-headers
$ mhwd-kernel -li
$ <span class="hljs-built_in">sudo</span> mhwd-kernel -r linux419
$ mhwd-kernel -li   
Currently running: 5.12.2-1-MANJARO (linux512)
The following kernels are installed <span class="hljs-keyword">in</span> your system:
   * linux512
</code></pre>
<p>Installare gli header del kernel</p>
<pre><code class="language-bash">$ <span class="hljs-built_in">sudo</span> pacman -Syu --needed --noconfirm linux-headers
$ <span class="hljs-built_in">sudo</span> pacman -Syu $(pacman -Qsq <span class="hljs-string">&quot;^linux&quot;</span> | grep <span class="hljs-string">&quot;^linux[0-9]*[-rt]*$&quot;</span> | awk <span class="hljs-string">&#x27;{print $1&quot;-headers&quot;}&#x27;</span> ORS=<span class="hljs-string">&#x27; &#x27;</span>)
</code></pre>
<h3 id="posizione-coredump-in-manjaro" tabindex="-1">Posizione coredump in Manjaro <a class="header-anchor" href="#posizione-coredump-in-manjaro" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-bash">$ <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">rm</span> -rf /var/lib/systemd/coredump/*
</code></pre>
<h3 id="posizione-log-journal-in-manjaro" tabindex="-1">Posizione log journal in Manjaro <a class="header-anchor" href="#posizione-log-journal-in-manjaro" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-bash">$ <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">rm</span> -rf /var/log/journal
</code></pre>
<h2 id="shell---ripristinare-la-bash" tabindex="-1">Shell - ripristinare la Bash <a class="header-anchor" href="#shell---ripristinare-la-bash" aria-hidden="true">ðŸ”—</a></h2>
<p>In Manjaro la versione Gnome utilizza di default la zsh, le altre bash.</p>
<ul>
<li>
<p><a href="https://forum.manjaro.org/t/zsh-or-bash-by-default-in-manjaro/6558/3">https://forum.manjaro.org/t/zsh-or-bash-by-default-in-manjaro/6558/3</a></p>
</li>
<li>
<p><a href="https://wiki.archlinux.org/title/zsh">https://wiki.archlinux.org/title/zsh</a></p>
<pre><code>  ~ `chsh -s $(which zsh)`
  ~ `zsh /usr/share/zsh/functions/Newuser/zsh-newuser-install -f`
</code></pre>
</li>
<li>
<p><a href="https://wiki.archlinux.org/title/bash">https://wiki.archlinux.org/title/bash</a></p>
</li>
<li>
<p><a href="https://wiki.archlinux.org/title/Command-line_shell">https://wiki.archlinux.org/title/Command-line_shell</a></p>
</li>
</ul>
<pre><code class="language-bash">$ chsh -l
<span class="hljs-comment">#$ chsh -s /bin/bash</span>
$ chsh -s $(<span class="hljs-built_in">which</span> bash)
$ grep <span class="hljs-variable">$USER</span> /etc/passwd   
$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$SHELL</span>
</code></pre>
<h2 id="pacchetti" tabindex="-1">Pacchetti <a class="header-anchor" href="#pacchetti" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="./pacman.html">pacman</a></li>
<li><a href="./pamac.html">pamac</a></li>
</ul>
<p>Prima di ogni altra operazione lanciare <code>pamac-manager</code> e abilitare il supporto di terze parti <code>AUR</code>.<br>
Se un pacchetto nella lista Ã¨ giÃ  installato sul sistema, verrÃ  reinstallato anche se aggiornato, a meno che non si utilizzi l'opzione <code>--needed</code>.</p>
<h2 id="installazione-con-ansible-da-locale" tabindex="-1">Installazione con Ansible da locale <a class="header-anchor" href="#installazione-con-ansible-da-locale" aria-hidden="true">ðŸ”—</a></h2>
<pre><code class="language-sh">$ <span class="hljs-built_in">sudo</span> pacman -S ansible
$ <span class="hljs-built_in">cd</span> /opt/backup/<span class="hljs-variable">$USER</span>/workspaces/configuration/Manjaro_Install/
$ bash <span class="hljs-comment"># di default c&#x27;e&#x27; la zsh, altrimenti gli script non funzionano</span>
$ ./bin/make_vault &lt;password utente principale&gt;
    SCRIPT_PATH=/opt/backup/<span class="hljs-variable">$USER</span>/workspaces/configuration/Manjaro_Install/bin/make_vault
    SCRIPT_DIR=/opt/backup/<span class="hljs-variable">$USER</span>/workspaces/configuration/Manjaro_Install/bin
    Aggiornato file ~/.bashrc
    Aggiornato file /home/<span class="hljs-variable">$USER</span>/.ansible_vault_password
    Encryption successful
    Creato file group_vars/local/vault.yml
$ <span class="hljs-built_in">exit</span> <span class="hljs-comment"># altrimenti non vengono viste le nuove variabili di ambiente configurate</span>
$ bash 
$ ./bin/ra
<span class="hljs-comment"># Per reinstallare i package dopo aver modificato il roles/package/vars/main.yml</span>
$ ansible-playbook -i hosts.yml manjaro.yml --tags init,package
</code></pre>
<p>I pacchetti verranno installati da Ansible, la lista Ã¨ contenuta in <code>~/workspaces/configuration/Manjaro_Install/roles/package/vars/main.yml</code><br>
nel sistema deve essere installato <code>yay</code> che serve ad installare i pacchetti AUR, ora Ã¨ anche da ansible stesso che viene installato <code>yay</code>.</p>
<ul>
<li><a href="../../sicurezza/ssh.html">Server SSH e scambio delle chiavi</a></li>
<li><a href="../../../Sviluppo/Ansible/ansible.html">Ansible</a></li>
</ul>
<h3 id="installazione-di-ansible-e-dipendenze" tabindex="-1">Installazione di Ansible e dipendenze <a class="header-anchor" href="#installazione-di-ansible-e-dipendenze" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-bash">$ <span class="hljs-built_in">sudo</span> pacman -Syu --needed --noconfirm ansible ansible-lint python-argcomplete yay python-lxml
</code></pre>
<h3 id="file-di-configurazione-da-ricontrollare-prima-del-lancio" tabindex="-1">File di configurazione da ricontrollare prima del lancio <a class="header-anchor" href="#file-di-configurazione-da-ricontrollare-prima-del-lancio" aria-hidden="true">ðŸ”—</a></h3>
<ul>
<li>
<p><code>hosts</code><br>
Abilitare <code>localhost</code></p>
</li>
<li>
<p><code>group_vars/all.yml</code></p>
<ol>
<li>Disabilitare la modalitÃ  demo di esecuzione ridotta</li>
</ol>
<pre><code class="language-yml"><span class="hljs-attr">demo:</span> <span class="hljs-literal">false</span>
</code></pre>
<ol start="2">
<li>Aggiornare la directory nell'Host dalla quale prelevare i file di backup da ripristinare mediante rsync</li>
</ol>
<pre><code class="language-yml"><span class="hljs-attr">rsync_home_src:</span> <span class="hljs-string">/opt/backup/$USER</span>
</code></pre>
<ol start="3">
<li>Configurazione del servizio <strong>systemd backup Service</strong>, configurare <code>src</code> e <code>dst</code> in:</li>
</ol>
<pre><code class="language-yml"><span class="hljs-comment"># backup_dirs: &quot;[ [&#x27;~&#x27;, &#x27;/opt/backup/&#x27;] ]&quot;</span>
</code></pre>
<ol start="4">
<li>Idirizzo IP statico della stampante HP (non usare il nome simoblico, in DNS puÃ² non funzionare):</li>
</ol>
<pre><code class="language-yml"><span class="hljs-attr">hp_lip_printer_name:</span> <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.3</span>
</code></pre>
</li>
<li>
<p><code>roles/conf_system/tasks/main.yml</code></p>
<p>Sostituzione di GDM con SDDM: riabilitare il task commentando il <code>when</code>:</p>
<pre><code class="language-yml"><span class="hljs-comment"># when: false # Attualmente disabilitato</span>
</code></pre>
</li>
</ul>
<h3 id="esecuzione-playbook" tabindex="-1">Esecuzione Playbook <a class="header-anchor" href="#esecuzione-playbook" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-bash">$ <span class="hljs-built_in">cd</span> ~/workspaces/configuration/Manjaro_Install/
$ bin/make_vault &lt;password utente per <span class="hljs-built_in">sudo</span>&gt; <span class="hljs-comment"># crea ~/.ansible_vault_password aggiorna ~/.bashrc con ANSIBLE_VAULT_PASSWORD_FILE e cifra group_vars/all.yml</span>
$ bin/ck <span class="hljs-comment"># effettua il check di tutti i file di progetto ansible</span>
$ bin/ra <span class="hljs-comment"># esegue il playbook manjaro.yml</span>

<span class="hljs-comment"># Per eseguire solo la configurazione delle applicazioni:</span>
$ ansible-playbook -i hosts manjaro.yml --list-tags
$ ansible-playbook -i hosts manjaro.yml --tags conf_apps
$ ansible-playbook -i hosts manjaro.yml --tags conf_user
</code></pre>
<h2 id="impostazione-dell'utenza" tabindex="-1">Impostazione dell'utenza <a class="header-anchor" href="#impostazione-dell'utenza" aria-hidden="true">ðŸ”—</a></h2>
<pre><code class="language-bash">$ <span class="hljs-built_in">sudo</span> usermod -aG <span class="hljs-built_in">log</span> <span class="hljs-variable">$USER</span>
$ <span class="hljs-built_in">sudo</span> usermod -a -G disk <span class="hljs-variable">$USER</span> <span class="hljs-comment"># User should be in a disk group to access raw partitions(virtualbox)</span>
$ <span class="hljs-built_in">sudo</span> usermod -aG docker <span class="hljs-variable">$USER</span> <span class="hljs-comment"># Run Docker without root</span>
$ <span class="hljs-built_in">sudo</span> gpasswd -a <span class="hljs-variable">$USER</span> wheel   <span class="hljs-comment"># Per avere un utente amministratore</span>
$ <span class="hljs-built_in">sudo</span> gpasswd -a <span class="hljs-variable">$USER</span> storage <span class="hljs-comment"># (per far funzionare l&#x27;automount di una USB Stick da GNOME)</span>
$ <span class="hljs-built_in">sudo</span> gpasswd -a <span class="hljs-variable">$USER</span> sys
</code></pre>
<h2 id="ripristino-configurazione-.bash" tabindex="-1">Ripristino configurazione .bash <a class="header-anchor" href="#ripristino-configurazione-.bash" aria-hidden="true">ðŸ”—</a></h2>
<pre><code>~/workspaces/configuration/manjaro/home/$USER
    .bashrc
    .bash_aliases
</code></pre>
<h2 id="ripristino-file-system" tabindex="-1">Ripristino file system <a class="header-anchor" href="#ripristino-file-system" aria-hidden="true">ðŸ”—</a></h2>
<p>Directory da ripristinare:</p>
<ul>
<li>~/bin</li>
<li>~/workspaces</li>
<li>~/app</li>
<li>~/log</li>
<li>~/Documenti</li>
<li>~/Immagini</li>
<li>~/Musica</li>
<li>~/Video</li>
<li>~/Modelli</li>
<li>~/.ssh</li>
<li>~/.config/Code</li>
<li>~/.config/mc</li>
<li>~/.local/share/applications</li>
<li>~/.local/share/fonts</li>
<li>~/.local/share/nautilus/scripts</li>
</ul>
<h2 id="ssh" tabindex="-1">SSH <a class="header-anchor" href="#ssh" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="../../sicurezza/ssh.html">Server SSH e scambio delle chiavi</a></li>
</ul>
<h2 id="scheda-grafica" tabindex="-1">Scheda Grafica <a class="header-anchor" href="#scheda-grafica" aria-hidden="true">ðŸ”—</a></h2>
<p>AMD/ATI Radeon RX 580
Scheda grafica AMD RADEONâ„¢ RX 580 8 GB â€“ HDMI, DP â€“ DXÂ® 12</p>
<p><a href="https://wiki.manjaro.org/index.php/Configure_Graphics_Cards">https://wiki.manjaro.org/index.php/Configure_Graphics_Cards</a></p>
<pre><code>manjaro-settings-manager|Configurazione Hardware|Driver|Display Controller|
    Ellesmere [Radeon RX 580]
        video-linux         INSTALLARE
        video-modesetting   NON INSTALLARE, crea problemi a GDM/SDDM
        video-vesa          NON INSTALLARE, crea problemi a GDM/SDDM
</code></pre>
<p><strong>NON installare assolutamente i driver vesa</strong></p>
<pre><code class="language-bash">$ <span class="hljs-built_in">sudo</span> mhwd -a pci nonfree 0300
$ mhwd -li -d
$ glxinfo | grep <span class="hljs-string">&quot;OpenGL vendor string&quot;</span> | <span class="hljs-built_in">cut</span> -f2 -d<span class="hljs-string">&quot;:&quot;</span> | xargs
    If it returns AMD, <span class="hljs-keyword">then</span> you are running open <span class="hljs-built_in">source</span> driver. If it returns Advanced Micro Devices, Inc., <span class="hljs-keyword">then</span> you are running proprietary driver. 
$ inxi -G
$ xdpyinfo | grep -B 2 resolution
</code></pre>
<h3 id="opencl" tabindex="-1">OpenCL <a class="header-anchor" href="#opencl" aria-hidden="true">ðŸ”—</a></h3>
<ul>
<li><a href="https://wiki.archlinux.org/title/GPGPU">https://wiki.archlinux.org/title/GPGPU</a></li>
<li><a href="https://aur.archlinux.org/packages/opencl-amd/">https://aur.archlinux.org/packages/opencl-amd/</a></li>
<li><a href="https://archlinux.org/packages/?name=opencl-mesa">https://archlinux.org/packages/?name=opencl-mesa</a></li>
</ul>
<pre><code class="language-bash">$ <span class="hljs-built_in">sudo</span> pacman -Syu linux-firmware intel-compute-runtime pocl <span class="hljs-comment"># Serve per le CPU AMD</span>
$ <span class="hljs-built_in">sudo</span> pamac install opencl-amd clinfo <span class="hljs-comment"># Serve per OpenCL della scheda grafica AMD Radeon RX 580</span>
$ clinfo
</code></pre>
<h2 id="rete" tabindex="-1">Rete <a class="header-anchor" href="#rete" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="https://networkmanager.dev/">https://networkmanager.dev/</a></li>
<li><a href="https://wiki.archlinux.org/title/NetworkManager">https://wiki.archlinux.org/title/NetworkManager</a></li>
<li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_networking/index">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_networking/index</a></li>
</ul>
<p>NetworkManager is the default solution for networking on most Manjaro editions.</p>
<h3 id="dns" tabindex="-1">DNS <a class="header-anchor" href="#dns" aria-hidden="true">ðŸ”—</a></h3>
<ul>
<li><a href="https://wiki.manjaro.org/index.php/Networking">https://wiki.manjaro.org/index.php/Networking</a></li>
<li><a href="https://wiki.archlinux.org/title/Domain_name_resolution">https://wiki.archlinux.org/title/Domain_name_resolution</a></li>
</ul>
<p>Usually, your DNS servers will be provided by your ISP automatically through DHCP. However, sometimes it nesecary to use different DNS servers than the ones provided by your ISP. In this situation you may find that your DNS or other non-standard nameserver addresses will get reset on reboot as <code>/etc/resolv.conf</code> can be overwritten by NetworkManager or during the boot process.</p>
<pre><code class="language-bash">$ man resolv.conf
$ man nsswitch.conf

$ <span class="hljs-built_in">cat</span> /etc/resolv.conf 
<span class="hljs-comment"># Generated by NetworkManager</span>
search homenet.telecomitalia.it
nameserver 192.168.1.1
nameserver fe80::22b0:1ff:fe95:2b3c%enp5s0

$ <span class="hljs-built_in">cat</span> /etc/hosts
<span class="hljs-comment"># Host addresses</span>
127.0.0.1  localhost
127.0.1.1  linux
::1        localhost ip6-localhost ip6-loopback
ff02::1    ip6-allnodes
ff02::2    ip6-allrouters

</code></pre>
<h3 id="rete-lenta-via-cavo---usare-il-driver-r8169" tabindex="-1">Rete lenta via cavo - usare il driver r8169 <a class="header-anchor" href="#rete-lenta-via-cavo---usare-il-driver-r8169" aria-hidden="true">ðŸ”—</a></h3>
<p><a href="https://forum.manjaro.org/t/slow-ethernet-speeds-on-new-manjaro-install/75046/2">https://forum.manjaro.org/t/slow-ethernet-speeds-on-new-manjaro-install/75046/2</a></p>
<p>Manjaro has a driver package for <strong>linux$KERNEL-r8168</strong> but as today it is rarely needed.<br>
La rete via cavo non funzionava piu quella wifi <a href="http://si.il">si.il</a> driver r8168 non va bene, bisogna rimuoverlo:</p>
<pre><code class="language-bash">$ manjaro-settings-manager
<span class="hljs-comment"># oppure</span>
$ <span class="hljs-built_in">sudo</span> mhwd -r pci network-r8168 &amp;&amp; reboot
$ inxi -N
Network:   Device-1: Intel Wi-Fi 6 AX200 driver: iwlwifi 
           Device-2: Realtek RTL8111/8168/8411 PCI Express Gigabit Ethernet driver: r8169 
</code></pre>
<p>Aprire Manjaro Hardware Detection, right click on network-r8168 and then --Remove, Reboot after it finishes.</p>
<pre><code class="language-bash">$ mhwd -li -d
   NAME:	network-r8168
   ATTACHED:	PCI
   VERSION:	2016.04.20
   INFO:	RealTek RTL-8168 Gigabit Ethernet driver
   PRIORITY:	0
   FREEDRIVER:	<span class="hljs-literal">true</span>
   DEPENDS:	-
   CONFLICTS:	-
   CLASSIDS:	0200 
   VENDORIDS:	1186 10ec 
<span class="hljs-comment"># -d/--detail</span>
<span class="hljs-comment"># -li/--listinstalled</span>
</code></pre>
<pre><code>Scheda madre
ASUSÂ® TUF X570-PLUS GAMING (USB 3.2 Gen 2, PCIe 4.0, CrossFireX) â€“ ARGB Ready!
LAN RealtekÂ® L8200A
</code></pre>
<pre><code class="language-bash"><span class="hljs-comment"># Installando questo driver la rete via cavo non funziona piu</span>
<span class="hljs-comment"># $ sudo mhwd -f -i pci network-r8168</span>
-f/--force
-i/--install &lt;usb/pci&gt; &lt;config(s)&gt;
</code></pre>
<h3 id="verifica-che-il-driver-r8169-funziona" tabindex="-1">Verifica che il driver r8169 funziona <a class="header-anchor" href="#verifica-che-il-driver-r8169-funziona" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-bash">$ <span class="hljs-built_in">sudo</span> modprobe -r r8168 &amp;&amp; <span class="hljs-built_in">sudo</span> modprobe r8169 &amp;&amp; <span class="hljs-built_in">sudo</span> systemctl restart NetworkManager
<span class="hljs-comment">#-r, --remove</span>
</code></pre>
<p>via cavo collegato/impostazioni rete via cavo - abilitare connesso 1000 Mb/s</p>
<pre><code class="language-bash">$ <span class="hljs-built_in">sudo</span> pacman -Syu --needed --noconfirm speedtest-cli
$ speedtest-cli
$ inxi -Fxxxz
    Device-2: Realtek RTL8111/8168/8411 PCI Express Gigabit Ethernet vendor: ASUSTeK driver: r8169 v: kernel port: f000
</code></pre>
<p>il problema Ã¨ il driver r8168, bisogna rimpiazzarlo con il r8169</p>
<pre><code class="language-bash">$ nmcli networking off
$ <span class="hljs-built_in">sudo</span> systemctl stop NetworkManager
$ <span class="hljs-built_in">sudo</span> ip <span class="hljs-built_in">link</span> <span class="hljs-built_in">set</span> enp5s0 down
$ <span class="hljs-built_in">sudo</span> modprobe -r r8168
$ <span class="hljs-built_in">sudo</span> modprobe r8169
$ <span class="hljs-built_in">sudo</span> ip <span class="hljs-built_in">link</span> <span class="hljs-built_in">set</span> enp5s0 up
$ <span class="hljs-built_in">sudo</span> systemctl start NetworkManager
$ nmcli networking on
<span class="hljs-comment"># ora la rete via cavo funziona</span>
$ nmcli -p device show
</code></pre>
<h2 id="attivare-fschk-su-%2F-e-%2Fhome-%3D%3D%3E-impostare-%2F-in-ro-per-il-servizio-systemd-fsck-root.service" tabindex="-1">Attivare fschk su / e /home ==&gt; impostare / in ro per il servizio systemd-fsck-root.service <a class="header-anchor" href="#attivare-fschk-su-%2F-e-%2Fhome-%3D%3D%3E-impostare-%2F-in-ro-per-il-servizio-systemd-fsck-root.service" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="https://forum.manjaro.org/t/how-to-enforce-boot-time-file-system-check/28363/24">https://forum.manjaro.org/t/how-to-enforce-boot-time-file-system-check/28363/24</a></li>
<li><a href="./grub_manjaro.html">GRUB Manjaro</a></li>
</ul>
<h2 id="sysrq" tabindex="-1">sysrq <a class="header-anchor" href="#sysrq" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="../../processi/shutdown.html">SYSRQ</a></li>
<li><a href="../../kernel/sysctl.html">sysctl</a></li>
</ul>
<pre><code class="language-bash">$ <span class="hljs-built_in">sudo</span> bash -c <span class="hljs-string">&quot;cat &gt; /etc/sysctl.d/60-sysrq.conf&quot;</span> &lt;&lt; <span class="hljs-string">&#x27;EOF&#x27;</span>
kernel.sysrq = 1
EOF
$ <span class="hljs-built_in">sudo</span> sysctl --system <span class="hljs-comment"># carica tutti i file di configurazione</span>
$ <span class="hljs-built_in">sudo</span> sysctl --all| grep rq
</code></pre>
<h2 id="incrementare-il-numero-di-file-controllabili-da-inotify" tabindex="-1">Incrementare il numero di file controllabili da inotify <a class="header-anchor" href="#incrementare-il-numero-di-file-controllabili-da-inotify" aria-hidden="true">ðŸ”—</a></h2>
<p>Utile ad esempio per <strong>PyCharm</strong> ed AndroidStudio</p>
<ul>
<li><a href="https://youtrack.jetbrains.com/articles/IDEA-A-2/Inotify-Watches-Limit">https://youtrack.jetbrains.com/articles/IDEA-A-2/Inotify-Watches-Limit</a></li>
</ul>
<pre><code class="language-bash">$ systemd-analyze cat-config sysctl.d | grep fs.inotify.max_user_watches
    /usr/lib/sysctl.d/10-manjaro.conf
$ man sysctl
$ man sysctl.d

$ sysctl -n fs.inotify.max_user_watches
$ <span class="hljs-built_in">sudo</span> sysctl -a|grep fs.inotify.max_user_watches
$ <span class="hljs-built_in">sudo</span> bash -c <span class="hljs-string">&quot;cat &gt; /etc/sysctl.d/max_user_watches.conf&quot;</span> &lt;&lt; <span class="hljs-string">&#x27;EOF&#x27;</span>
fs.inotify.max_user_watches = 524288
EOF
<span class="hljs-built_in">sudo</span> sysctl -p --system <span class="hljs-comment"># ricaricare la configurazione</span>
</code></pre>
<h2 id="gnome---sddm" tabindex="-1">Gnome - SDDM <a class="header-anchor" href="#gnome---sddm" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="../../X_freedesktop_xdg/DesktopEnvironments/Gnome/Gnome.html">Configurazione Gnome</a></li>
<li><a href="../../X_freedesktop_xdg/DesktopEnvironments/DisplayManagers.html#sddm">Configurazione SDDM</a></li>
</ul>
<pre><code class="language-bash"><span class="hljs-comment"># To install SDDM, enter the command:</span>
$ <span class="hljs-built_in">sudo</span> pamac install sddm
<span class="hljs-comment"># To enable SDDM enter the command:</span>
$ <span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">enable</span> sddm.service --force
</code></pre>
<h3 id="file-indexer-per-ctrl%2Bf-in-nautilus" tabindex="-1">File Indexer per CTRL+F in Nautilus <a class="header-anchor" href="#file-indexer-per-ctrl%2Bf-in-nautilus" aria-hidden="true">ðŸ”—</a></h3>
<p><a href="../../X_freedesktop_xdg/DesktopEnvironments/Gnome/file_indexing_tracker.html">Tracker File Indexer</a></p>
<h3 id="customizzazione%2C-tema-e-schermo" tabindex="-1">Customizzazione, Tema e Schermo <a class="header-anchor" href="#customizzazione%2C-tema-e-schermo" aria-hidden="true">ðŸ”—</a></h3>
<ol>
<li><code>gnome-control-center</code> da <code>Impostazioni\Schermi\Scala</code> impostare il 300%</li>
<li><code>gnome-extensions-app</code> da <code>Estensioni</code> (<code>gnome-shell</code>), abilitare <code>User Themes</code></li>
</ol>
<p>Utilizzando <code>gnome-tweaks</code> si possono seleziona icone e temi installati manualmente in <code>~/.icons</code> e <code>~/.themes</code></p>
<ul>
<li><a href="../../X_freedesktop_xdg/icons.html">Icons</a></li>
<li><a href="../../X_freedesktop_xdg/temi.html">Themes</a></li>
</ul>
<h3 id="errore-mount-usb" tabindex="-1">Errore Mount USB <a class="header-anchor" href="#errore-mount-usb" aria-hidden="true">ðŸ”—</a></h3>
<ul>
<li><a href="https://wiki.archlinux.org/index.php/USB_storage_devices_(Italiano)">https://wiki.archlinux.org/index.php/USB_storage_devices_(Italiano)</a></li>
</ul>
<p><strong>Introducendo una usb stick, questa viene vista in sola lettura</strong></p>
<p>Se usate KDEo GNOME, essi dovrebbero visualizzare automaticamente la periferica inserita sul desktop, quindi non vi sarÃ  necessario montarla manualmente.
Se ottenete un errore del tipo <code>Error org.freedesktop.DBus.Error.AccessDenied.</code>, provate ad aggiungere il vostro utente al gruppo storage:</p>
<pre><code class="language-bash">$ <span class="hljs-built_in">sudo</span> gpasswd -a <span class="hljs-variable">$USER</span> storage
</code></pre>
<h2 id="mc" tabindex="-1">mc <a class="header-anchor" href="#mc" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="../../applicazioni/mc.html">Midnight Commander</a></li>
</ul>
<pre><code class="language-bash">$ pamac install mc
</code></pre>
<h3 id="utilizzarlo-per-fare-il-cd" tabindex="-1">Utilizzarlo per fare il cd <a class="header-anchor" href="#utilizzarlo-per-fare-il-cd" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-bash">$ locate mc-wrapper.sh
$ vim ~/.bash_aliases
    <span class="hljs-built_in">alias</span> mc=<span class="hljs-string">&#x27;. /usr/lib/mc/mc-wrapper.sh&#x27;</span> <span class="hljs-comment"># manjaro</span>
$ grep mc .bash*
.bash_aliases:<span class="hljs-built_in">alias</span> mc=<span class="hljs-string">&#x27;. /usr/lib/mc/mc-wrapper.sh&#x27;</span>
</code></pre>
<h3 id="sostituzione-tasto-%22canc%22%2F%22delete%22-ad-f8" tabindex="-1">Sostituzione tasto &quot;Canc&quot;/&quot;Delete&quot; ad <code>F8</code> <a class="header-anchor" href="#sostituzione-tasto-%22canc%22%2F%22delete%22-ad-f8" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-bash">$ <span class="hljs-built_in">cp</span> /etc/mc/mc.keymap ~/.config/mc/
$ vim ~/.config/mc/mc.keymap
        Delete = delete
        <span class="hljs-comment">#Delete = f8</span>
</code></pre>
<h3 id="disabilitare-il-tasto-f10-in-gnome-terminal" tabindex="-1">Disabilitare il tasto F10 in GNOME-Terminal <a class="header-anchor" href="#disabilitare-il-tasto-f10-in-gnome-terminal" aria-hidden="true">ðŸ”—</a></h3>
<pre><code class="language-bash">gsettings <span class="hljs-built_in">set</span> org.gnome.Terminal.Legacy.Settings menu-accelerator-enabled <span class="hljs-literal">false</span>
</code></pre>
<h2 id="preload" tabindex="-1">Preload <a class="header-anchor" href="#preload" aria-hidden="true">ðŸ”—</a></h2>
<pre><code class="language-bash"><span class="hljs-built_in">sudo</span> pacman -Syu --needed preload
<span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">enable</span> preload.service
<span class="hljs-comment">#    Created symlink /etc/systemd/system/multi-user.target.wants/preload.service â†’ /usr/lib/systemd/system/preload.service.</span>
</code></pre>
<h2 id="mlocate" tabindex="-1">mlocate <a class="header-anchor" href="#mlocate" aria-hidden="true">ðŸ”—</a></h2>
<h3 id="problema" tabindex="-1">Problema <a class="header-anchor" href="#problema" aria-hidden="true">ðŸ”—</a></h3>
<p><mark>Su Manjaro non ho trovato il comando locate!</mark></p>
<p>Su manjaro manca locate, Ã¨ disponibile la versione piÃ¹ sicura <code>mlocate</code>. <br>
<code>mlocate</code> (Merging Locate) Ã¨ una versione di locate che mostra solamente i file accessibili all'utente. <br>
La cosa accade perchÃ¨ mentre le <a href="https://www.gnu.org/software/findutils/">GNU findutils</a> contengono una versione di <code>locate</code>,
le [Arch's findutils] (<a href="https://www.archlinux.org/packages/?name=findutils">https://www.archlinux.org/packages/?name=findutils</a>) invece non lo contengono.</p>
<ul>
<li><a href="https://wiki.archlinux.org/index.php/locate">https://wiki.archlinux.org/index.php/locate</a></li>
<li><a href="https://www.archlinux.org/packages/?name=mlocate">https://www.archlinux.org/packages/?name=mlocate</a></li>
<li><a href="https://jlk.fjfi.cvut.cz/arch/manpages/man/locate.1">https://jlk.fjfi.cvut.cz/arch/manpages/man/locate.1</a></li>
<li><a href="https://jlk.fjfi.cvut.cz/arch/manpages/man/updatedb.8">https://jlk.fjfi.cvut.cz/arch/manpages/man/updatedb.8</a></li>
</ul>
<h3 id="soluzione" tabindex="-1">Soluzione <a class="header-anchor" href="#soluzione" aria-hidden="true">ðŸ”—</a></h3>
<p>Il pacchetto <code>mlocate</code> installa ed abilita anche il time systemd <code>updatedb.timer</code>, che evita di lanciare manualmente <code>updatedb</code>.</p>
<pre><code class="language-bash">$ <span class="hljs-built_in">sudo</span> pacman -Syu --needed --noconfirm mlocate
$ systemctl status updatedb.timer <span class="hljs-comment"># da qui si vede che il timer Ã¨ attivo e che non c&#x27;e&#x27; bisogno di lanciare updatedb manualmente</span>
$ <span class="hljs-built_in">sudo</span> updatedb <span class="hljs-comment"># giusto la prima volta, il timer giornaliero di occupa di aggiornare il db</span>

<span class="hljs-comment"># Informazioni sul timer installato</span>
<span class="hljs-built_in">cat</span> /etc/updatedb.conf    <span class="hljs-comment"># configurazione utile per evitare ad esempio l&#x27;indicizzazione di alcune directory</span>
pacman -Qi mlocate
pacman -Ql mlocate
pacman -Ql mlocate|grep timer
</code></pre>
<h2 id="node.js-installazione-da-binari-in-manjaro" tabindex="-1">Node.js installazione da binari in Manjaro <a class="header-anchor" href="#node.js-installazione-da-binari-in-manjaro" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="../../../Sviluppo/Node.js/Nodejs.html#node.js-installazione-da-binari-in-manjaro">Node.js</a></li>
</ul>
<h2 id="python---installazione-mediante-compilazione-in-manjaro" tabindex="-1">Python - installazione mediante compilazione in Manjaro <a class="header-anchor" href="#python---installazione-mediante-compilazione-in-manjaro" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="../../../Sviluppo/Python/Python.html#installazione-mediante-compilazione-in-manjaro">Python</a></li>
</ul>
<h2 id="visual-studio-code" tabindex="-1">Visual Studio Code <a class="header-anchor" href="#visual-studio-code" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="../../applicazioni/visual_studio_code.html">Visual Studio Code</a></li>
<li><a href="https://aur.archlinux.org/packages/visual-studio-code-bin">https://aur.archlinux.org/packages/visual-studio-code-bin</a></li>
</ul>
<pre><code class="language-bash">$ <span class="hljs-built_in">cp</span> -ar ~/workspaces/configuration/manjaro/home/<span class="hljs-variable">$USER</span>/.config/Code ~/.config/

<span class="hljs-comment"># La versione AUR Ã¨ piÃ¹ aggiornata</span>
$ pamac build visual-studio-code-bin
$ pamac upgrade visual-studio-code-bin
$ xdg-mime default code.desktop text/plain
</code></pre>
<p>Avviare <code>code</code> ed installare i plugin:</p>
<ul>
<li><a href="https://marketplace.visualstudio.com/items?itemName=yzhang.markdown-all-in-one">https://marketplace.visualstudio.com/items?itemName=yzhang.markdown-all-in-one</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=DavidAnson.vscode-markdownlint">https://marketplace.visualstudio.com/items?itemName=DavidAnson.vscode-markdownlint</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=shd101wyy.markdown-preview-enhanced">https://marketplace.visualstudio.com/items?itemName=shd101wyy.markdown-preview-enhanced</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=techer.open-in-browser">https://marketplace.visualstudio.com/items?itemName=techer.open-in-browser</a></li>
</ul>
<h2 id="wine" tabindex="-1">Wine <a class="header-anchor" href="#wine" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="../../virtualizzazione/wine.html">Wine</a></li>
</ul>
<h3 id="aumentare-la-qualit%C3%A0-della-grafica" tabindex="-1">Aumentare la qualitÃ  della grafica <a class="header-anchor" href="#aumentare-la-qualit%C3%A0-della-grafica" aria-hidden="true">ðŸ”—</a></h3>
<ul>
<li><code>winecfg</code> --&gt; <code>/Graphics/Screen Resolution</code> --&gt; impostare i <code>dpi</code> a <code>288</code>, aumentando cosÃ¬ la risoluzione</li>
<li><code>winecfg</code> ---&gt; <code>/Desktop</code> installare il tema <code>aero</code> salvato in <code>/workspaces/Risorse/wine/luna.msstyles</code></li>
<li><code>winetricks allfonts</code></li>
<li>Attivare il font smoothing: <code>~/bin/winefontsmooting.sh</code> --&gt; Selezionare l'opziope <code>3</code></li>
</ul>
<h2 id="virtualbox" tabindex="-1">Virtualbox <a class="header-anchor" href="#virtualbox" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="../../virtualizzazione/virtualbox.html">VirtualBox</a></li>
</ul>
<h2 id="chrome" tabindex="-1">Chrome <a class="header-anchor" href="#chrome" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="../../applicazioni/google_chrome.html">Google Chrome</a></li>
</ul>
<p>Chrome contiene giÃ  tutti i codecs</p>
<pre><code class="language-bash">    pamac build google-chrome <span class="hljs-comment"># Ã¨ in AUR</span>
    pamac upgrade google-chrome
</code></pre>
<h3 id="chromium" tabindex="-1">Chromium <a class="header-anchor" href="#chromium" aria-hidden="true">ðŸ”—</a></h3>
<ul>
<li><a href="https://wiki.archlinux.org/index.php/chromium">https://wiki.archlinux.org/index.php/chromium</a></li>
<li><a href="http://www.chromium.org/audio-video">http://www.chromium.org/audio-video</a></li>
</ul>
<pre><code class="language-bash">    pacman -Syu --needed chromium
    chromium-codecs-ffmpeg
</code></pre>
<pre><code>chrome://inspect#devices
</code></pre>
<h2 id="servizio-systemd-backup-orario" tabindex="-1">Servizio Systemd Backup Orario <a class="header-anchor" href="#servizio-systemd-backup-orario" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="systemd_backup.html">Systemd Backup Service</a></li>
</ul>
<h2 id="firewall---ufw" tabindex="-1">Firewall - UFW <a class="header-anchor" href="#firewall---ufw" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="../../net/firewall/ufw.html">UFW</a></li>
</ul>
<h2 id="antivirus-clamav" tabindex="-1">Antivirus ClamAV <a class="header-anchor" href="#antivirus-clamav" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="../../applicazioni/clamav.html">ClamAV</a></li>
</ul>
<h2 id="samba" tabindex="-1">Samba <a class="header-anchor" href="#samba" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="../../net/samba.html">Samba</a></li>
<li><a href="https://wiki.archlinux.org/title/Samba">https://wiki.archlinux.org/title/Samba</a></li>
<li><a href="../../sicurezza/firewall/ufw.hml">UFW</a></li>
</ul>
<h3 id="file-system" tabindex="-1">File System <a class="header-anchor" href="#file-system" aria-hidden="true">ðŸ”—</a></h3>
<ul>
<li><a href="./etc_fstab.html">Configurazione /etc/fstab</a></li>
</ul>
<h4 id="bitlocker" tabindex="-1">Bitlocker <a class="header-anchor" href="#bitlocker" aria-hidden="true">ðŸ”—</a></h4>
<p><a href="../../file_system/bitlocker.html">Configurazione Bitlocker</a></p>
<h2 id="stampante" tabindex="-1">Stampante <a class="header-anchor" href="#stampante" aria-hidden="true">ðŸ”—</a></h2>
<p>202004_StampanteHPColorLaserJetProM283fdw</p>
<p>HP Color LaserJet Pro M283fdw</p>
<ul>
<li><a href="https://wiki.manjaro.org/index.php/Printing">https://wiki.manjaro.org/index.php/Printing</a></li>
</ul>
<p>Ho configurato sulla stampante <code>NPIB06D32</code> l'ip statico <code>192.168.178.3</code> sul gateway 192.168.178.1 che Ã¨ il modem Fritz!Box</p>
<p>Per TIMHUB:
Ho configurato per la stampante <code>NPIB06D32</code> nel router <code>192.168.1.1</code> un IP Statico: <code>192.168.1.3</code> per il MAC Address: <code>e8:d8:d1:b0:6d:32</code></p>
<pre><code class="language-bash">$ getent hosts npib06d32
    192.168.1.3    npib06d32.homenet.telecomitalia.it
$ drill @192.168.1.1 npib06d32
$ arp
    Address                  HWtype  HWaddress           Flags Mask            Iface
    192.168.1.70             ether   e8:d8:d1:b0:6d:32   C                     enp5s0
</code></pre>
<pre><code class="language-bash"><span class="hljs-comment"># reset cups</span>
$ <span class="hljs-built_in">sudo</span> pacman -Rsn hplip cups manjaro-printer
$ <span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">disable</span> --now org.cups.cupsd.service
$ <span class="hljs-built_in">sudo</span> pacman -Rsn manjaro-printer
$ pacman -Qi cups
<span class="hljs-comment"># Installazione/Reinstallazione</span>
$ <span class="hljs-built_in">sudo</span> pamac install manjaro-printer
$ <span class="hljs-built_in">sudo</span> gpasswd -a <span class="hljs-variable">$USER</span> sys
$ <span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">enable</span> --now cups.service
$ <span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">enable</span> --now cups.socket
$ <span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">enable</span> --now cups.path

$ hp-toolbox &amp;
    discover options: mDNS/Bonjour 
    search term: NPIB06D32

</code></pre>
<pre><code class="language-bash"><span class="hljs-comment"># Installazione da commandline</span>
$ hp-setup -a -x -i NPIB06D32

    HP Color LaserJet Pro MFP M283fdw
    NPIB06D32
    Cartuccia nero 
    Ordinare â€­207A (W2210A)
    Cartuccia ciano 
    Ordinare â€­207A (W2211A)
    Cartuccia magenta 
    Ordinare â€­207A (W2213A)
    Cartuccia giallo 
    Ordinare â€­207A (W2212A)

$ hp-info NPIB06D32 -i

</code></pre>
<h2 id="sleep" tabindex="-1">Sleep <a class="header-anchor" href="#sleep" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="https://wiki.archlinux.org/title/Power_management">https://wiki.archlinux.org/title/Power_management</a></li>
</ul>
<pre><code class="language-bash">$ journalctl -b -u systemd-suspend.service

$ journalctl --grep=<span class="hljs-string">&quot;Watching system buttons&quot;</span> --no-pager
$ find /dev/input/by-path -name <span class="hljs-string">&quot;*-kbd&quot;</span> -<span class="hljs-built_in">exec</span> udevadm info -a {} \;
</code></pre>
<h2 id="vim" tabindex="-1">vim <a class="header-anchor" href="#vim" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="../../applicazioni/vim.html">VIM</a></li>
</ul>
<ol>
<li>
<p>restore <code>~/.vimrc</code></p>
<pre><code class="language-bash"><span class="hljs-built_in">cp</span> ~/workspaces/configuration/manjaro/home/<span class="hljs-variable">$USER</span>/.vimrc ~/
curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
:PlugInstall
</code></pre>
</li>
</ol>
<h2 id="git" tabindex="-1">git <a class="header-anchor" href="#git" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="../../../Sviluppo/Git/Git.html#configurazione-ssh-linux">GIT</a></li>
</ul>
<p>restore file <code>.gitconfig</code> e directory <code>.ssh</code></p>
<pre><code class="language-bash"><span class="hljs-built_in">cp</span> ~/workspaces/configuration/manjaro/home/<span class="hljs-variable">$USER</span>/.gitconfig ~/
<span class="hljs-built_in">cp</span> -ar ~/workspaces/configuration/manjaro/home/<span class="hljs-variable">$USER</span>/.ssh ~/
</code></pre>
<h2 id="tor-browser-anonimizzatore" tabindex="-1">Tor Browser anonimizzatore <a class="header-anchor" href="#tor-browser-anonimizzatore" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="https://www.torproject.org/download/">https://www.torproject.org/download/</a></li>
<li><a href="https://github.com/micahflee/torbrowser-launcher">https://github.com/micahflee/torbrowser-launcher</a></li>
<li><a href="https://discover.manjaro.org/packages/torbrowser-launcher">https://discover.manjaro.org/packages/torbrowser-launcher</a></li>
</ul>
<pre><code class="language-bash">$ <span class="hljs-built_in">sudo</span> pamac install torbrowser-launcher

$ <span class="hljs-built_in">sudo</span> ufw status verbose
$ <span class="hljs-built_in">sudo</span> ufw logging full
$ <span class="hljs-built_in">sudo</span> ufw status verbose
$ <span class="hljs-built_in">sudo</span> journalctl -f
$ <span class="hljs-built_in">sudo</span> dmesg|grep -i ufw
$ <span class="hljs-built_in">sudo</span> ufw logging low
</code></pre>
<h2 id="creare-una-iso-custom" tabindex="-1">Creare una ISO custom <a class="header-anchor" href="#creare-una-iso-custom" aria-hidden="true">ðŸ”—</a></h2>
<ul>
<li><a href="https://wiki.manjaro.org/index.php/Build_Manjaro_ISOs_with_buildiso">https://wiki.manjaro.org/index.php/Build_Manjaro_ISOs_with_buildiso</a></li>
<li><a href="https://gitlab.manjaro.org/profiles-and-settings/iso-profiles/-/tree/master/manjaro/gnome">https://gitlab.manjaro.org/profiles-and-settings/iso-profiles/-/tree/master/manjaro/gnome</a></li>
<li><a href="https://wiki.manjaro.org/index.php/Buildiso_with_AUR_packages:_Using_buildpkg">https://wiki.manjaro.org/index.php/Buildiso_with_AUR_packages:_Using_buildpkg</a></li>
</ul>
<h2 id="editor-di-immagini" tabindex="-1">Editor di immagini <a class="header-anchor" href="#editor-di-immagini" aria-hidden="true">ðŸ”—</a></h2>
<p>mtPaint
Pinta
MyPaint
Drawing
Krita
Photoflare</p>
<p><a href="https://wiki.archlinux.org/title/list_of_applications#Raster_graphics_editors">https://wiki.archlinux.org/title/list_of_applications#Raster_graphics_editors</a></p>
<pre><code>Raster graphics editors

See also Wikipedia:Comparison of raster graphics editors.

    AzPainter â€” Painting software for illustration drawing.

    https://gitlab.com/azelpg/azpainter || azpainterAUR

    CorePaint â€” Simple bitmap painting tool to produce very simple graphics. Part of C-Suite.

    https://cubocore.org/ || corepaintAUR

    Deepin Draw â€” Lightweight drawing tool for Deepin desktop.

    https://github.com/linuxdeepin/deepin-draw || deepin-draw

    Drawing â€” Drawing application for the GNOME desktop, using Cairo and GdkPixbuf for basic drawing operations.

    https://github.com/maoschanz/drawing || drawing

    Drawpile â€” Collaborative drawing program that allows multiple users to sketch on the same canvas simultaneously.

    https://drawpile.net/ || drawpileAUR

    GIMP â€” Image editing suite in the vein of proprietary editors such as Adobe Photoshop. GIMP (GNU Image Manipulation Program) has been started in the mid 1990s and has acquired a large number of plugins and additional tools.

    https://www.gimp.org/ || gimp

    Gpaint â€” Paintbrush clone for GNOME.

    https://www.gnu.org/software/gpaint/ || gpaintAUR

    GrafX2 â€” Bitmap paint program specialized in 256 color drawing.

    http://grafx2.chez.com/ || grafx2

    ImEditor â€” Simple and versatile image editor.

    https://imeditor.github.io/ || imeditorAUR

    KolourPaint â€” Free raster graphics editor for KDE, similar to Microsoft's Paint application before Windows 7, but with some additional features such as support for transparency. Part of kde-applications and kde-graphics groups.

    http://kolourpaint.org/ || kolourpaint

    Krita â€” Digital painting and illustration software included based on the KDE platform.

    https://krita.org/ || krita

    Milton â€” Infinite-canvas paint program.

    https://www.miltonpaint.com/ || miltonAUR

    mtPaint â€” Graphics editing program geared towards creating indexed palette images and pixel art.

    https://mtpaint.sourceforge.net/ || mtpaint

    MyPaint â€” Free software graphics application for digital painters.

    http://mypaint.org || mypaint

    PhotoFlare â€” Simple but powerful image editor originally inspired by PhotoFiltre.

    https://photoflare.io/ || photoflare

    Pinta â€” Drawing and editing program modeled after Paint.NET. Its goal is to provide a simplified alternative to GIMP for casual users.

    https://pinta-project.com/ || pinta

    Pixelitor â€” Advanced image editor with support for layers, layer masks, text layers, multiple undo, blending modes, cropping, Gaussian blurring, unsharp masking, histograms, etc.

    https://pixelitor.sourceforge.io/ || pixelitorAUR

    Swappy â€” Wayland native snapshot editing tool.

    https://github.com/jtheoof/swappy || swappy

    XPaint â€” Color image editing tool which features most standard paint program options.

    https://sourceforge.net/projects/sf-xpaint/ || xpaintAUR
</code></pre>
<h2 id="errore-di-build-hplip-plugin" tabindex="-1">Errore di build hplip-plugin <a class="header-anchor" href="#errore-di-build-hplip-plugin" aria-hidden="true">ðŸ”—</a></h2>
<p>Questo errore si verifica solamente eseguendo l'aggiornamento da pamac in modalitÃ  grafica,
<strong>si risolve eseguendo l'upgrade da riga di comando</strong>.</p>
<ul>
<li>
<p><a href="https://developers.hp.com/hp-linux-imaging-and-printing/binary_plugin.html">https://developers.hp.com/hp-linux-imaging-and-printing/binary_plugin.html</a></p>
</li>
<li>
<p><a href="https://aur.archlinux.org/packages/hplip-plugin">https://aur.archlinux.org/packages/hplip-plugin</a></p>
</li>
<li>
<p><a href="../distribuzioni/manjaro/package_manager/pamac.html#fallimento-di-una-build-a-causa-del-pkgbuild-nel-repository-che-contiene-un-checksum-non-aggiornato">pamac analizzare errori di build</a></p>
</li>
<li>
<p><a href="../distribuzioni/manjaro/package_manager/pacman.html#aur---arch-user-repository">pacman AUR</a></p>
<p>Costruzione in corso di hplip-plugin...
==&gt; Creazione del pacchetto: hplip-plugin 3.23.12-1 (ven 29 dic 2023, 11:57:09)
==&gt; Controllo delle dipendenze durante l'avvio in corso...
==&gt; Controllo delle dipendenze durante la compilazione in corso...
==&gt; Download dei sorgenti in corso...
-&gt; Ãˆ stato trovato hplip-3.23.12-plugin.run
==&gt; Validazione di source file con md5sums...
hplip-3.23.12-plugin.run ... Verificato
==&gt; Rimozione dell'esistente directory $srcdir/ in corso...
==&gt; Estrazione dei sorgenti in corso...
==&gt; Avvio di prepare() in corso...</p>
<h1 id="analisi-degli-argomenti-non-riuscita%3A-opzione--title-sconosciuta" tabindex="-1">Analisi degli argomenti non riuscita: Opzione -title sconosciuta <a class="header-anchor" href="#analisi-degli-argomenti-non-riuscita%3A-opzione--title-sconosciuta" aria-hidden="true">ðŸ”—</a></h1>
<p>==&gt; ERRORE: Si Ã¨ verificato un errore in prepare().
L'operazione sta per essere interrotta...</p>
</li>
</ul>
<pre><code class="language-bash"><span class="hljs-comment"># Risolto semplicemente eseguendo la build da riga di comando anzichÃ¨ da GUI</span>
$ pamac upgrade hplip-plugin
</code></pre>
</body></html>